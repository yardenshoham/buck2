"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8237],{3905:(e,r,t)=>{t.r(r),t.d(r,{MDXContext:()=>u,MDXProvider:()=>m,mdx:()=>g,useMDXComponents:()=>p,withMDXComponents:()=>s});var n=t(67294);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(){return a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},a.apply(this,arguments)}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var u=n.createContext({}),s=function(e){return function(r){var t=p(r.components);return n.createElement(e,a({},r,{components:t}))}},p=function(e){var r=n.useContext(u),t=r;return e&&(t="function"==typeof e?e(r):c(c({},r),e)),t},m=function(e){var r=p(e.components);return n.createElement(u.Provider,{value:r},e.children)},d="mdxType",f={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},h=n.forwardRef((function(e,r){var t=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),s=p(t),m=o,d=s["".concat(i,".").concat(m)]||s[m]||f[m]||a;return t?n.createElement(d,c(c({ref:r},u),{},{components:t})):n.createElement(d,c({ref:r},u))}));function g(e,r){var t=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=h;var c={};for(var l in r)hasOwnProperty.call(r,l)&&(c[l]=r[l]);c.originalType=e,c[d]="string"==typeof e?e:o,i[1]=c;for(var u=2;u<a;u++)i[u]=t[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}h.displayName="MDXCreateElement"},7070:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>u});var n=t(87462),o=(t(67294),t(3905));const a={},i="Performance Tuning",c={unversionedId:"legacy/about/performance",id:"legacy/about/performance",title:"Performance Tuning",description:"Performance Tuning Your Builds",source:"@site/../docs/legacy/about/performance.md",sourceDirName:"legacy/about",slug:"/legacy/about/performance",permalink:"/docs/legacy/about/performance",draft:!1,tags:[],version:"current",frontMatter:{}},l={},u=[{value:"Performance Tuning Your Builds",id:"performance-tuning-your-builds",level:2},{value:"Super Console",id:"super-console",level:2},{value:"Chrome Tracing",id:"chrome-tracing",level:2}],s={toc:u};function p(e){let{components:r,...t}=e;return(0,o.mdx)("wrapper",(0,n.Z)({},s,t,{components:r,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"performance-tuning"},"Performance Tuning"),(0,o.mdx)("h2",{id:"performance-tuning-your-builds"},"Performance Tuning Your Builds"),(0,o.mdx)("p",null,"Buck ",(0,o.mdx)("a",{parentName:"p",href:"https://buck.build/concept/what_makes_buck_so_fast.html"},"does a lot of work")," to make builds as fast as possible, and we also give developers tools to figure out where the time is being spent inside of their builds."),(0,o.mdx)("h2",{id:"super-console"},"Super Console"),(0,o.mdx)("p",null,"When running Buck in an ",(0,o.mdx)("a",{parentName:"p",href:"http://en.wikipedia.org/wiki/ANSI_escape_code"},"Ansi"),' compliant terminal, Buck displays the break down of what each thread is doing, updated every 100ms, in what we affectionately call "SuperConsole." While a build is running, this gives developers a good idea of what Buck is spending its time doing, and can often help people spot issues in their builds. If you want to see what happened after the fact or to have a trace you can send around your team, use Chrome Tracing.'),(0,o.mdx)("h2",{id:"chrome-tracing"},"Chrome Tracing"),(0,o.mdx)("p",null,"The Chrome team has built an awesome framework for viewing performance traces right inside of ",(0,o.mdx)("a",{parentName:"p",href:"http://www.chromium.org/developers/how-tos/trace-event-profiling-tool"},"Chrome"),". You can access this by going to ",(0,o.mdx)("inlineCode",{parentName:"p"},"chrome://tracing")," in your browser. Consult the trace viewer's ",(0,o.mdx)("a",{parentName:"p",href:"https://github.com/google/trace-viewer/"},"project page")," for more information on the trace viewer and the file format.\nAfter Buck is done with each build, it will produce a Chrome Trace file that can be loaded up in ",(0,o.mdx)("inlineCode",{parentName:"p"},"chrome://tracing")," in the directory ",(0,o.mdx)("inlineCode",{parentName:"p"},"buck-out/log/traces/"),". Buck will save a file in the format ",(0,o.mdx)("inlineCode",{parentName:"p"},"build.[timestamp].trace"),", and then create a symlink from the most recent trace to ",(0,o.mdx)("inlineCode",{parentName:"p"},"build.trace"),".\nTo load up this trace, visit ",(0,o.mdx)("inlineCode",{parentName:"p"},"chrome://tracing"),' inside of Chrome, and hit "Load". Load the trace file of interest, and look around to see where time was spent. Each row represents a different thread, and all of the steps taken for a given rule are logged underneath that rule. Additionally, we log information about how the rule was built and and the rule key for each artifact fetch. Press ',(0,o.mdx)("em",{parentName:"p"},"?")," to get the help menu for the Chrome Trace Viewer."))}p.isMDXComponent=!0}}]);