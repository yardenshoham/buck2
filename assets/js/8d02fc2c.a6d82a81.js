"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1603],{3905:(e,n,t)=>{t.r(n),t.d(n,{MDXContext:()=>l,MDXProvider:()=>u,mdx:()=>b,useMDXComponents:()=>m,withMDXComponents:()=>d});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=r.createContext({}),d=function(e){return function(n){var t=m(n.components);return r.createElement(e,a({},n,{components:t}))}},m=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},u=function(e){var n=m(e.components);return r.createElement(l.Provider,{value:n},e.children)},p="mdxType",f={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},h=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=m(t),u=o,p=d["".concat(i,".").concat(u)]||d[u]||f[u]||a;return t?r.createElement(p,c(c({ref:n},l),{},{components:t})):r.createElement(p,c({ref:n},l))}));function b(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=h;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c[p]="string"==typeof e?e:o,i[1]=c;for(var l=2;l<a;l++)i[l]=t[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}h.displayName="MDXCreateElement"},78866:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var r=t(87462),o=(t(67294),t(3905));const a={id:"daemon",title:"Daemon (buckd)"},i=void 0,c={unversionedId:"concepts/daemon",id:"concepts/daemon",title:"Daemon (buckd)",description:"The first time that a Buck2 command is run, Buck2 starts a daemon process for the current project. For subsequent commands, Buck2 checks for the running daemon process and, if found, uses the daemon to execute the command. Using the Buck2 daemon can save significant time as it enables Buck to share cache between Buck2 invocations.",source:"@site/../docs/concepts/daemon.md",sourceDirName:"concepts",slug:"/concepts/daemon",permalink:"/docs/concepts/daemon",draft:!1,tags:[],version:"current",frontMatter:{id:"daemon",title:"Daemon (buckd)"},sidebar:"manualSidebar",previous:{title:"Visibility",permalink:"/docs/concepts/visibility"},next:{title:"Glossary of Terms",permalink:"/docs/concepts/glossary"}},s={},l=[{value:"Killing or disabling the Buck daemon",id:"killing-or-disabling-the-buck-daemon",level:2}],d=(m="FbInternalOnly",function(e){return console.warn("Component "+m+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",e)});var m;const u={toc:l};function p(e){let{components:n,...t}=e;return(0,o.mdx)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("p",null,"The first time that a Buck2 command is run, Buck2 starts a daemon process for the current project. For subsequent commands, Buck2 checks for the running daemon process and, if found, uses the daemon to execute the command. Using the Buck2 daemon can save significant time as it enables Buck to share cache between Buck2 invocations."),(0,o.mdx)("p",null,"By default, there is 1 daemon per ",(0,o.mdx)("a",{parentName:"p",href:"/docs/concepts/glossary#project"},"project")," root, you can run multiple daemons in the same project by specifying an ",(0,o.mdx)("a",{parentName:"p",href:"/docs/concepts/glossary#isolation-dir"},"isolation dir"),"."),(0,o.mdx)("p",null,"While it runs, the Buck daemon process monitors the project's file system for changes. The Buck daemon excludes from monitoring any subtrees of the project file system that are specified in the ",(0,o.mdx)("inlineCode",{parentName:"p"},"[project].ignore")," setting of ",(0,o.mdx)("inlineCode",{parentName:"p"},".buckconfig")," (for details, see the still-relevant ",(0,o.mdx)("a",{parentName:"p",href:"/docs/legacy/files-and-directories/dot-buckconfig#ignore"},"[project].ignore")," section of the '.buckconfig' legacy document)."),(0,o.mdx)("h2",{id:"killing-or-disabling-the-buck-daemon"},"Killing or disabling the Buck daemon"),(0,o.mdx)("p",null,"The Buck daemon process is killed if ",(0,o.mdx)("inlineCode",{parentName:"p"},"buck2 clean")," or ",(0,o.mdx)("inlineCode",{parentName:"p"},"buck2 kill")," commands are run. Note that they won't kill the daemon associated with custom isolation dirs. To do that, run using the ",(0,o.mdx)("inlineCode",{parentName:"p"},"--isolation-dir")," option (",(0,o.mdx)("inlineCode",{parentName:"p"},"buck2 --isolation-dir <dir> <command>"),")"),(0,o.mdx)(d,{mdxType:"FbInternalOnly"},(0,o.mdx)("p",null,"The Daemon is also killed when:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"The ",(0,o.mdx)("inlineCode",{parentName:"li"},"buck2 killall")," command is run."),(0,o.mdx)("li",{parentName:"ul"},"A new buck2 version is available."))))}p.isMDXComponent=!0}}]);