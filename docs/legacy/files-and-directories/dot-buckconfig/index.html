<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-legacy/files-and-directories/dot-buckconfig">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">.buckconfig | Buck2</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/legacy/files-and-directories/dot-buckconfig/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content=".buckconfig | Buck2"><meta data-rh="true" name="description" content="The root of your project must contain a configuration file named .buckconfig. Before executing, Buck reads this file to incorporate any customizations it specifies."><meta data-rh="true" property="og:description" content="The root of your project must contain a configuration file named .buckconfig. Before executing, Buck reads this file to incorporate any customizations it specifies."><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/legacy/files-and-directories/dot-buckconfig/"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/legacy/files-and-directories/dot-buckconfig/" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/legacy/files-and-directories/dot-buckconfig/" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GEGGHE39PE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GEGGHE39PE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.96950b1b.css">
<link rel="preload" href="/assets/js/runtime~main.e94ab9dd.js" as="script">
<link rel="preload" href="/assets/js/main.71de8834.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Buck2</b></a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/docs/api/rules/">Rules</a><a class="navbar__item navbar__link" href="/docs/api/">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/buck2" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>.buckconfig</h1><p>The root of your <a href="https://buck.build/about/overview.html" target="_blank" rel="noopener noreferrer">project</a> must contain a configuration file named <code>.buckconfig</code>. Before executing, Buck reads this file to incorporate any customizations it specifies.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-impact-of-buck-configuration-changes">Performance impact of Buck configuration changes<a href="#performance-impact-of-buck-configuration-changes" class="hash-link" aria-label="Direct link to Performance impact of Buck configuration changes" title="Direct link to Performance impact of Buck configuration changes">​</a></h2><p>Also, because configuration settings are sometimes included in the cache keys that Buck uses in its caching system, changes to Buck&#x27;s configuration can invalidate previously-built artifacts in Buck&#x27;s caches. If this occurs, Buck rebuilds those artifacts, which can impact your build time.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-buckconfig-file-uses-the-ini-file-format">The .buckconfig file uses the INI file format<a href="#the-buckconfig-file-uses-the-ini-file-format" class="hash-link" aria-label="Direct link to The .buckconfig file uses the INI file format" title="Direct link to The .buckconfig file uses the INI file format">​</a></h2><p>The <code>.buckconfig</code> file uses the <a href="http://en.wikipedia.org/wiki/INI_file" target="_blank" rel="noopener noreferrer">INI file format</a>. That is, it is divided into <em>sections</em> where each section contains a collection of key <em>names</em> and key <em>values</em>. The <code>.buckconfig</code> implementation supports some modifications to the INI file format; these are discussed below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-ini-file-parsers">Other INI file parsers<a href="#other-ini-file-parsers" class="hash-link" aria-label="Direct link to Other INI file parsers" title="Direct link to Other INI file parsers">​</a></h3><p>As mentioned previously, we have extended the INI file parser that Buck uses to parse configuration files. As a result, <em>INI file parsers provided by other languages or libraries are often not able to parse Buck&#x27;s configuration files successfully</em>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dot-character-not-supported-in-section-names">Dot character not supported in section names<a href="#dot-character-not-supported-in-section-names" class="hash-link" aria-label="Direct link to Dot character not supported in section names" title="Direct link to Dot character not supported in section names">​</a></h3><p>We do not support the use of the <em>dot</em> character (<code>.</code>) in section names within Buck configuration files. For example, the following is <strong>not</strong> supported—<em>although Buck does not issue a warning or error</em>.</p><div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[foo.bar]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  baz=1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that sometimes you might need to define your own custom sections, such as for platform flavors for <a href="https://buck.build/files-and-dirs/buckconfig.html#cxx" target="_blank" rel="noopener noreferrer">C++</a> or <a href="https://buck.build/files-and-dirs/buckconfig.html#python" target="_blank" rel="noopener noreferrer">Python</a>. These scenarios are examples of when you should be careful not to introduce the dot character in section names.
This constraint is because Buck uses the dot character to delimit section names and key names in other contexts such as the <code>--config</code> command-line parameter. For information about <code>--config</code>, see the <a href="https://buck.build/command/common_parameters.html" target="_blank" rel="noopener noreferrer"><strong>Common Parameters</strong></a> topic.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="character-encoding">Character encoding<a href="#character-encoding" class="hash-link" aria-label="Direct link to Character encoding" title="Direct link to Character encoding">​</a></h2><p>To ensure that any character can be encoded in a <code>.buckconfig</code> key value, you can use escape sequences to encode characters that would otherwise be problematic.
The following escape sequences are supported.</p><table><thead><tr><th><code>\\</code></th><th>backslash</th></tr></thead><tbody><tr><td><code>\&quot;</code></td><td>double quote</td></tr><tr><td><code>\n</code></td><td>newline</td></tr><tr><td><code>\r</code></td><td>carriage return</td></tr><tr><td><code>\t</code></td><td>tab</td></tr><tr><td><code>\x##</code></td><td>Unicode character with code point ## (in hex)</td></tr><tr><td><code>\u####</code></td><td>Unicode character with code point #### (in hex)</td></tr><tr><td><code>\U########</code></td><td>Unicode character with code point ######## (in hex)</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-values-as-lists">Key values as lists<a href="#key-values-as-lists" class="hash-link" aria-label="Direct link to Key values as lists" title="Direct link to Key values as lists">​</a></h2><p>Although the standard INI format supports only key values that represent a single item, Buck supports key values that represent a list of items. The syntax is to separate the items in the list using the space (<code>0x20</code>) character. For example, a key value for the list of command-line flags to be passed to a compiler could be represented as a list of the flags separated by spaces:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">flags = -foo -bar -baz -qux</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When a key value is parsed as a list instead of a single item, the separator character is interpreted as a separator only when it occurs <em>outside of double quotes</em>. For example, if <code>flags</code> is a key value interpreted as a list of items separated by spaces, then</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">flags = -foo &quot;-bar \u0429&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>results in the two strings: <code>foo</code> and <code>-bar Щ</code>; the space character between <code>-bar</code> and <code>\u0429</code> is not interpreted as a separator.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transclusion-of-values-from-one-key-to-another">Transclusion of values from one key to another<a href="#transclusion-of-values-from-one-key-to-another" class="hash-link" aria-label="Direct link to Transclusion of values from one key to another" title="Direct link to Transclusion of values from one key to another">​</a></h2><p>Values from other keys can be transcluded into the current key using the following syntax inside the current key value.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$(config &lt;section&gt;.&lt;field&gt;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example, to use the <a href="https://buck.build/files-and-dirs/buckconfig.html#go.vendor_path" target="_blank" rel="noopener noreferrer"><code>[go].vendor_path</code></a> in a custom setting:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[custom_section]custom_value = $(config go.vendor_path)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="comments">Comments<a href="#comments" class="hash-link" aria-label="Direct link to Comments" title="Direct link to Comments">​</a></h2><p>In addition to the semicolon (<code>;</code>), you can use the pound sign (<code>#</code>), as a comment character in <code>.buckconfig</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="buckconfiglocal">.buckconfig.local<a href="#buckconfiglocal" class="hash-link" aria-label="Direct link to .buckconfig.local" title="Direct link to .buckconfig.local">​</a></h2><p>The root of your <a href="https://buck.build/about/overview.html" target="_blank" rel="noopener noreferrer">project</a> may contain a second configuration file named <code>.buckconfig.local</code>. Its format is the same as that of <code>.buckconfig</code>, but settings in <code>.buckconfig.local</code> override those in <code>.buckconfig</code>. In practice, <code>.buckconfig</code> is a version-controlled file that contains settings that are applicable to all team members, whereas <code>.buckconfig.local</code> is excluded from version control to allow users to define personal settings, such as personal aliases.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-initialization-files">Other initialization files<a href="#other-initialization-files" class="hash-link" aria-label="Direct link to Other initialization files" title="Direct link to Other initialization files">​</a></h2><p>In addition to the <code>.buckconfig</code> and <code>.buckconfig.local</code> files in the project root, Buck reads configuration settings from the following additional locations, some of which are actually directories:</p><ol><li>Directory <code>.buckconfig.d</code> located in the project root directory.</li><li>File <code>.buckconfig</code> and directory <code>.buckconfig.d</code> located in the current user&#x27;s home directory which, on Unix-like systems, is available from the <code>HOME</code> environment variable or through the <code>~</code> symbol.</li><li>File <code>buckconfig</code> and directory <code>buckconfig.d</code> located in system directory <code>/etc/</code>.</li></ol><p>Buck treats <em>any</em> file—irrespective of name—in a <code>.buckconfig.d</code>(<code>buckconfig.d</code>) directory (excluding files found in subdirectories) as a Buck configuration file, provided that it adheres to <code>.buckconfig</code> syntax.
Note that a <code>.buckconfig.d</code> directory is distinct from the similarly-named <code>.buckd</code> directory which is used by the <a href="https://buck.build/concept/buckd.html" target="_blank" rel="noopener noreferrer">Buck Daemon (<code>buckd</code>)</a> .
For a description of how Buck resolves collisions between settings in these configuration files, see the section <a href="https://buck.build/files-and-dirs/buckconfig.html#config-precedence" target="_blank" rel="noopener noreferrer"><strong>Precedence of Buck configuration specifications</strong></a>
below.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="command-line-control-of-configuration">Command-line control of configuration<a href="#command-line-control-of-configuration" class="hash-link" aria-label="Direct link to Command-line control of configuration" title="Direct link to Command-line control of configuration">​</a></h2><p>In addition to the above configuration files, Buck supports specifying additional configuration files from the Buck command line using the <code>--config-file</code> parameter.
You can also specify configuration settings <em>individually</em> on the Buck command line using the <code>--config</code> (<code>-c</code>) parameter. Furthermore, you can aggregate these settings into <em>flag files</em> using the <code>--flagfile</code> parameter. A flag file provides similar functionality to a configuration file but uses a different syntax. Flag files are sometimes called <em>mode files</em> or <em>at</em> (<code>@</code>) files.
For more information about the <code>--config-file</code> and <code>--flagfile</code> parameters, see the <a href="https://buck.build/command/common_parameters.html" target="_blank" rel="noopener noreferrer"><strong>Common Parameters</strong></a> topic.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="precedence-of-buck-configuration-specifications">Precedence of Buck configuration specifications<a href="#precedence-of-buck-configuration-specifications" class="hash-link" aria-label="Direct link to Precedence of Buck configuration specifications" title="Direct link to Precedence of Buck configuration specifications">​</a></h2><p>The following list shows the order of precedence for how Buck interprets its configuration specifications. Settings specified using a method closer to the top of the list have higher precedence and will override those lower on the list. For example, the <code>.buckconfig</code> file in the project directory overrides a <code>.buckconfig</code> file in the user&#x27;s <code>HOME</code> directory.</p><ol><li>Configuration specified on the command line using <code>--config</code> (<code>-c</code>), <code>--config-file</code> and <code>--flagfile</code>. Configuration specified later on the command line overrides configuration specified earlier.</li><li><code>.buckconfig.local</code> in the project directory.</li><li><code>.buckconfig</code> in the project directory.</li><li><code>.buckconfig</code> in the <code>HOME</code> directory.</li><li>Files in a <code>.buckconfig.d</code> subdirectory of the project directory, irrespective of filename.</li><li>Files in a <code>.buckconfig.d</code> subdirectory of the <code>HOME</code> directory, irrespective of filename.</li><li><code>buckconfig</code> in the <code>/etc/</code> directory.</li><li>Files in a <code>buckconfig.d</code> subdirectory of the <code>/etc/</code> directory, irrespective of filename.</li></ol><p>Files in a <code>.buckconfig.d</code> (<code>buckconfig.d</code>) directory have precedence according to the lexicographical order of their file names. Files <em>later</em> in the lexicographical order have precedence over files earlier in that order.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-files-can-include-other-files">Configuration files can include other files<a href="#configuration-files-can-include-other-files" class="hash-link" aria-label="Direct link to Configuration files can include other files" title="Direct link to Configuration files can include other files">​</a></h2><p>Any of the configuration files that we&#x27;ve discussed so far can also include by reference other files that contain configuration information. These included files can contain complete <code>.buckconfig</code> sections or they can contain a group of key name/value pairs that constitute part of a section. In this second use case, you&#x27;ll need to ensure that the <em>included</em> file is referenced beneath the appropriate section in the <em>including</em> file. Because of this additional complexity, we recommend that you include only files that contain complete sections.
<strong>Note:</strong> Inclusion of files is a Buck-specific extension to the INI file parser that Buck uses. Therefore, if you use this feature, your Buck configuration files will probably not be parsable by other more-generic INI file parsers.
The syntax to include a file is</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;file:*path-to-included-file*&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>where <em>path-to-included-file</em> is either a relative path from the including file (recommended) or an absolute path from the root of the file system.
You can also specify that the file should be included only if it exists by prefixing with a question mark (<code>?</code>).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?file:*path-to-included-file*&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you use this prefix, it is not an error condition if the file does not exist; Buck just silently continues to process the rest of the configuration file.
In the following example, the <code>.buckconfig</code> file includes the file <code>cxx-other-platform.include</code> which exists in the subdirectory <code>cxx-other-platform</code>. The <code>.buckconfig</code> file will also include the file <code>future-platform</code> from the directory <code>future-platform.include</code> if that file exists.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># .buckconfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cxxppflags=&quot;-D MYMACRO=\&quot;Buck\&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;file:cxx-other-platform/cxx-other-platform.include&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?file:future-platform/future-platform.include&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># cxx-other-platform.include</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[cxx#other_platform]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cxxppflags=&quot;-D MYMACRO=\&quot;Watchman\&quot;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sections">Sections<a href="#sections" class="hash-link" aria-label="Direct link to Sections" title="Direct link to Sections">​</a></h2><p>The following sections are recognized by Buck:
<a href="https://buck.build/files-and-dirs/buckconfig.html#adb" target="_blank" rel="noopener noreferrer"><code>[adb]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#alias" target="_blank" rel="noopener noreferrer"><code>[alias]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#android" target="_blank" rel="noopener noreferrer"><code>[android]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#apple" target="_blank" rel="noopener noreferrer"><code>[apple]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#build" target="_blank" rel="noopener noreferrer"><code>[build]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#buildfile" target="_blank" rel="noopener noreferrer"><code>[buildfile]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache" target="_blank" rel="noopener noreferrer"><code>[cache]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#client" target="_blank" rel="noopener noreferrer"><code>[client]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#color" target="_blank" rel="noopener noreferrer"><code>[color]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#credentials" target="_blank" rel="noopener noreferrer"><code>[credentials]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#cxx" target="_blank" rel="noopener noreferrer"><code>[cxx]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#d" target="_blank" rel="noopener noreferrer"><code>[d]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#doctor" target="_blank" rel="noopener noreferrer"><code>[doctor]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#download" target="_blank" rel="noopener noreferrer"><code>[download]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#dx" target="_blank" rel="noopener noreferrer"><code>[dx]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#export_file" target="_blank" rel="noopener noreferrer"><code>[export_file]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#go" target="_blank" rel="noopener noreferrer"><code>[go]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#groovy" target="_blank" rel="noopener noreferrer"><code>[groovy]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#halide" target="_blank" rel="noopener noreferrer"><code>[halide]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#httpserver" target="_blank" rel="noopener noreferrer"><code>[httpserver]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#incompatible" target="_blank" rel="noopener noreferrer"><code>[incompatible]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#intellij" target="_blank" rel="noopener noreferrer"><code>[intellij]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#java" target="_blank" rel="noopener noreferrer"><code>[java]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#kotlin" target="_blank" rel="noopener noreferrer"><code>[kotlin]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#log" target="_blank" rel="noopener noreferrer"><code>[log]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#lua" target="_blank" rel="noopener noreferrer"><code>[lua]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#maven_repositories" target="_blank" rel="noopener noreferrer"><code>[maven_repositories]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#ndk" target="_blank" rel="noopener noreferrer"><code>[ndk]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#ocaml" target="_blank" rel="noopener noreferrer"><code>[ocaml]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#parser" target="_blank" rel="noopener noreferrer"><code>[parser]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#project" target="_blank" rel="noopener noreferrer"><code>[project]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#python" target="_blank" rel="noopener noreferrer"><code>[python]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#repositories" target="_blank" rel="noopener noreferrer"><code>[repositories]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#resources" target="_blank" rel="noopener noreferrer"><code>[resources]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#resources_per_rule" target="_blank" rel="noopener noreferrer"><code>[resources_per_rule]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#rust" target="_blank" rel="noopener noreferrer"><code>[rust]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#sandbox" target="_blank" rel="noopener noreferrer"><code>[sandbox]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#test" target="_blank" rel="noopener noreferrer"><code>[test]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#thrift" target="_blank" rel="noopener noreferrer"><code>[thrift]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#tools" target="_blank" rel="noopener noreferrer"><code>[tools]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#ui" target="_blank" rel="noopener noreferrer"><code>[ui]</code></a>
<a href="https://buck.build/files-and-dirs/buckconfig.html#worker" target="_blank" rel="noopener noreferrer"><code>[worker]</code></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adb">[adb]<a href="#adb" class="hash-link" aria-label="Direct link to [adb]" title="Direct link to [adb]">​</a></h2><p>This section configures adb behavior.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adb_restart_on_failure">adb_restart_on_failure<a href="#adb_restart_on_failure" class="hash-link" aria-label="Direct link to adb_restart_on_failure" title="Direct link to adb_restart_on_failure">​</a></h3><p>This specifies whether to restart adb on failure or not.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[adb]adb_restart_on_failure = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi_install_mode">multi_install_mode<a href="#multi_install_mode" class="hash-link" aria-label="Direct link to multi_install_mode" title="Direct link to multi_install_mode">​</a></h3><p>This specifies whether multi-install mode is enabled or disabled by default.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[adb]multi_install_mode = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="alias">[alias]<a href="#alias" class="hash-link" aria-label="Direct link to [alias]" title="Direct link to [alias]">​</a></h2><p>This section contains definitions of <a href="https://buck.build/concept/build_target.html" target="_blank" rel="noopener noreferrer">build target</a> aliases.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[alias]app     = //apps/myapp:app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  apptest = //apps/myapp:test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>These aliases can then be used from the command line:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ buck test apptest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can also suffix aliases with flavors:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build app#src_jar# This will expand the alias and effectively build the target returned by:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ buck targets --resolve-alias app#src_jar//apps/myapp:app#src_jar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="android">[android]<a href="#android" class="hash-link" aria-label="Direct link to [android]" title="Direct link to [android]">​</a></h2><p>This section configures android-specific build behavior.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="build_tools_version">build_tools_version<a href="#build_tools_version" class="hash-link" aria-label="Direct link to build_tools_version" title="Direct link to build_tools_version">​</a></h3><p>This specifies the version of the Android SDK Build-tools that all Android code in the project should be built against. By default, Buck will select the newest version found on the system.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[android]build_tools_version = 23.0.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="compile_sdk_version">compile_sdk_version<a href="#compile_sdk_version" class="hash-link" aria-label="Direct link to compile_sdk_version" title="Direct link to compile_sdk_version">​</a></h3><p>This specifies the version of the Android SDK that all Android code in the project should be built against. Even if not specified, the version that Buck chose to use will be printed to the console during the build. A list of valid values on your system can be found by running <code>android list target --compact</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[android]compile_sdk_version = Google Inc.:Google APIs:21</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sdk_path">sdk_path<a href="#sdk_path" class="hash-link" aria-label="Direct link to sdk_path" title="Direct link to sdk_path">​</a></h3><p>This specifies the absolute path to the Android SDK that all Android code in the project should be built against. The default is empty.
Setting this property has the same effect as if you had set either of the following environment variables to the same value:</p><ul><li><code>ANDROID_SDK</code></li><li><code>ANDROID_SDK_ROOT</code></li><li><code>ANDROID_HOME</code></li></ul><p>Note that Buck gives precedence to the values of these environment variables—in the order in which they are listed above—over the value of this property in <code>.buckconfig</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[android]sdk_path = /Library/Android/sdk</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apple">[apple]<a href="#apple" class="hash-link" aria-label="Direct link to [apple]" title="Direct link to [apple]">​</a></h2><p>This section includes settings that control settings that are specific to Apple platform rules.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="asset_catalog_validation">asset_catalog_validation<a href="#asset_catalog_validation" class="hash-link" aria-label="Direct link to asset_catalog_validation" title="Direct link to asset_catalog_validation">​</a></h3><p>Buck can check errors in .xcassets&#x27; contents that can later cause silent failures, like having multiple images with the same name or missing <code>Contents.json</code> files. To add extra validation above what Xcode does, set this option to <code>STRICT</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]asset_catalog_validation = XCODE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="codesign">codesign<a href="#codesign" class="hash-link" aria-label="Direct link to codesign" title="Direct link to codesign">​</a></h3><p>To override a default path to <code>codesign</code>, set this setting to either a file path or buck target.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]codesign = //path/to/target/that/creates:codesign</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="codesign_timeout">codesign_timeout<a href="#codesign_timeout" class="hash-link" aria-label="Direct link to codesign_timeout" title="Direct link to codesign_timeout">​</a></h3><p>The timeout of the code-signing step in seconds. The value is set to 300 seconds by default if not specified explicitly.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]codesign_timeout = 600</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="code_sign_identities_command">code_sign_identities_command<a href="#code_sign_identities_command" class="hash-link" aria-label="Direct link to code_sign_identities_command" title="Direct link to code_sign_identities_command">​</a></h3><p>Specifies a command with any optional arguments that Buck will use to get the current key fingerprints available for code signing. This command should output a list of hashes and common names to standard output in the same format as <code>security find-identity -v -p codesigning</code>. If unspecified, Buck will use <code>security find-identity -v -p codesigning</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]code_sign_identities_command = path/to/command --arg1 --arg2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_debug_info_format_for_binaries">default_debug_info_format_for_binaries<a href="#default_debug_info_format_for_binaries" class="hash-link" aria-label="Direct link to default_debug_info_format_for_binaries" title="Direct link to default_debug_info_format_for_binaries">​</a></h3><p><code>default_debug_info_format_for_binaries</code> setting controls the default debug info format that is used when building binary targets. If you don&#x27;t specify it, <code>DWARF_AND_DSYM</code> value will be used. You can disable debug data by specifying <code>NONE</code> value. You can produce unstripped binary by specifying<code>DWARF</code> value.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]default_debug_info_format_for_binaries = NONE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_debug_info_format_for_libraries">default_debug_info_format_for_libraries<a href="#default_debug_info_format_for_libraries" class="hash-link" aria-label="Direct link to default_debug_info_format_for_libraries" title="Direct link to default_debug_info_format_for_libraries">​</a></h3><p><code>default_debug_info_format_for_libraries</code> setting controls the default debug info format that is used when building dynamic library targets. If you don&#x27;t specify it, <code>DWARF</code> value will be used. You can disable debug data by specifying <code>NONE</code> value. You can produce dSYM file for the library by specifying<code>DWARF_AND_DSYM</code> value.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]default_debug_info_format_for_libraries = DWARF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_debug_info_format_for_tests">default_debug_info_format_for_tests<a href="#default_debug_info_format_for_tests" class="hash-link" aria-label="Direct link to default_debug_info_format_for_tests" title="Direct link to default_debug_info_format_for_tests">​</a></h3><p><code>default_debug_info_format_for_tests</code> setting controls the default debug info format that is used when building test targets. If you don&#x27;t specify it, <code>DWARF</code> value will be used. You can disable debug data by specifying <code>NONE</code> value. You can produce dSYM file by specifying<code>DWARF_AND_DSYM</code> value.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]default_debug_info_format_for_tests = DWARF_AND_DSYM</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="device_helper_path">device_helper_path<a href="#device_helper_path" class="hash-link" aria-label="Direct link to device_helper_path" title="Direct link to device_helper_path">​</a></h3><p>If you want to have Buck be able to install to devices, you need to provide the path to the <a href="https://github.com/facebook/FBSimulatorControl/" target="_blank" rel="noopener noreferrer"><code>fbsimctl</code></a> binary.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]device_helper_path = third-party/fbsimctl/fbsimctl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ipa_compression_level">ipa_compression_level<a href="#ipa_compression_level" class="hash-link" aria-label="Direct link to ipa_compression_level" title="Direct link to ipa_compression_level">​</a></h3><p>Specify a compression level used when creating ipa. The possible values are:</p><ul><li><code>none</code>: Do not compress ipa.</li><li><code>min</code>: Use minimum compression level.</li><li><code>default</code> (default): Use medium compression level.</li><li><code>max</code>: Use maximum compression level.</li></ul><p>If omitted, the <code>default</code> value will be used.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]ipa_compression_level = min</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="provisioning_profile_read_command">provisioning_profile_read_command<a href="#provisioning_profile_read_command" class="hash-link" aria-label="Direct link to provisioning_profile_read_command" title="Direct link to provisioning_profile_read_command">​</a></h3><p>Specifies a command with any optional arguments that Buck will use to decode Apple&#x27;s provisioning profiles for iOS builds. The full path of the provisioning profile will be appended after the command and any arguments specified here. If unspecified, Buck will use <code>openssl smime -inform der -verify -noverify -in</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]provisioning_profile_read_command = path/to/command --arg1 --arg2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="provisioning_profile_search_path">provisioning_profile_search_path<a href="#provisioning_profile_search_path" class="hash-link" aria-label="Direct link to provisioning_profile_search_path" title="Direct link to provisioning_profile_search_path">​</a></h3><p>Specifies a path where Buck will look for provisioning profiles (files with extension <code>.mobileprovision</code>) that it can use to provision the application to be used on a device. You can specify either an absolute path or one relative to the project root. If unspecified, Buck will look in <code>~/Library/MobileDevice/Provisioning Profiles</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]provisioning_profile_search_path = path/to/provisioning/profiles</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="target_sdk_version">target_sdk_version<a href="#target_sdk_version" class="hash-link" aria-label="Direct link to target_sdk_version" title="Direct link to target_sdk_version">​</a></h3><p>For each platform, you can specify the target SDK version to use. The format is <code>{platform}_target_sdk_version</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]iphonesimulator_target_sdk_version = 7.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  iphoneos_target_sdk_version = 7.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  macosx_target_sdk_version = 10.9</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="test_log">test_log<a href="#test_log" class="hash-link" aria-label="Direct link to test_log" title="Direct link to test_log">​</a></h3><p>When running Apple tests via <code>xctool</code>, Buck can set environment variables to tell the tests where to write debug logs and what log level to use. By default, Buck tells <code>xctool</code> to set two environment variables named <code>FB_LOG_DIRECTORY</code>and <code>FB_LOG_LEVEL</code> when running tests which you can read from your test environment:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  FB_LOG_DIRECTORY=buck-out/gen/path/to/logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  FB_LOG_LEVEL=debug</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can override the default names for these environment variables and the value for the debug log level via the following config settings:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  [apple]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    test_log_directory_environment_variable=MY_LOG_DIRECTORY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    test_log_level_environment_variable=MY_LOG_LEVEL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    test_log_level=verbose</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use_flavored_cxx_sections">use_flavored_cxx_sections<a href="#use_flavored_cxx_sections" class="hash-link" aria-label="Direct link to use_flavored_cxx_sections" title="Direct link to use_flavored_cxx_sections">​</a></h3><p>By default, Buck uses the C/C++ toolchain and flag settings in the <code>cxx</code>section to extend Apple C/C++ platform. With this parameter set, Buck will instead use settings in <code>cxx#</code> sections (e.g. <code>cxx#macosx-x86_64.cxx_flags=-foo</code>).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]use_flavored_cxx_sections = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use_header_maps_in_xcode">use_header_maps_in_xcode<a href="#use_header_maps_in_xcode" class="hash-link" aria-label="Direct link to use_header_maps_in_xcode" title="Direct link to use_header_maps_in_xcode">​</a></h3><p>Xcode projects generated by Buck by default use header maps for header search paths. This speeds up builds for large projects over using regular directory header search paths, but breaks some Xcode features, like header file name autocompletion. If that is an issue, use the following option to disable the use of header maps.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]use_header_maps_in_xcode = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="xcode_developer_dir">xcode_developer_dir<a href="#xcode_developer_dir" class="hash-link" aria-label="Direct link to xcode_developer_dir" title="Direct link to xcode_developer_dir">​</a></h3><p>By default, Buck will use the output of <code>xcode-select --print-path</code> to determine where Xcode&#x27;s developer directory is. However, you can specify a directory in the config to override whatever value that would return.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]xcode_developer_dir = path/to/developer/directory</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="xcode_developer_dir_for_tests">xcode_developer_dir_for_tests<a href="#xcode_developer_dir_for_tests" class="hash-link" aria-label="Direct link to xcode_developer_dir_for_tests" title="Direct link to xcode_developer_dir_for_tests">​</a></h3><p>Optionally override the Xcode developer directory for running tests, if you want them to be run with a different Xcode version than the version used for building. If absent, falls back to <code>xcode_developer_dir</code> and finally <code>xcode-select --print-path</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]xcode_developer_dir_for_tests = path/to/developer/directory/for_tests</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="xctool_default_destination_specifier">xctool_default_destination_specifier<a href="#xctool_default_destination_specifier" class="hash-link" aria-label="Direct link to xctool_default_destination_specifier" title="Direct link to xctool_default_destination_specifier">​</a></h3><p>This setting is passed directly to <code>xctool</code>, and then to<code>xcodebuild</code> as the <code>-destination</code> argument.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]xctool_default_destination_specifier = platform=iOS Simulator</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For more detail, see the man page for <code>xcodebuild</code>. To access the man page, type the following from your Terminal prompt:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">man xcodebuild</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and then use <code>/</code> to search for the string <code>Destinations</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="xctool_path">xctool_path<a href="#xctool_path" class="hash-link" aria-label="Direct link to xctool_path" title="Direct link to xctool_path">​</a></h3><p>If you want to run tests with Buck, you will need to get <a href="https://github.com/facebook/xctool" target="_blank" rel="noopener noreferrer"><code>xctool</code></a> and tell Buck where to find it. This setting lets you specify a path to a binary. You should use either this setting or <a href="https://buck.build/files-and-dirs/buckconfig.html#apple.xctool_zip_target" target="_blank" rel="noopener noreferrer"><code>[apple].xctool_zip_target</code></a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]xctool_path = path/to/binary/of/xctool</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="xctool_zip_target">xctool_zip_target<a href="#xctool_zip_target" class="hash-link" aria-label="Direct link to xctool_zip_target" title="Direct link to xctool_zip_target">​</a></h3><p>If you want to run tests with Buck, you will need to get <a href="https://github.com/facebook/xctool" target="_blank" rel="noopener noreferrer"><code>xctool</code></a> and tell Buck where to find it. This setting lets you specify a <a href="https://buck.build/concept/build_target.html" target="_blank" rel="noopener noreferrer">build target</a>. You should use either this setting or <a href="https://buck.build/files-and-dirs/buckconfig.html#apple.xctool_path" target="_blank" rel="noopener noreferrer"><code>[apple].xctool_path</code></a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]xctool_zip_target = //path/to/target/that/creates:xctool-zip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="_package_command">*_package_command<a href="#_package_command" class="hash-link" aria-label="Direct link to *_package_command" title="Direct link to *_package_command">​</a></h3><p>Specify a custom command to run for <code>apple_package()</code> rules. The syntax of this field is similar to the <code>cmd</code> field of <a href="https://buck.build/rule/genrule.html" target="_blank" rel="noopener noreferrer"><code>genrule</code></a>, and supports some expansions:
<code>SRCS</code>
Expands to the absolute path of the <code>bundle</code> argument output to the<code>apple_package()</code> rule.
<code>OUT</code>
Expands to the output file for the <code>apple_package()</code> rule. The file specified by this variable must always be written by this command.
<code>SDKROOT</code>
Expands to the SDK root directory for the requested SDK. For example,<code>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS9.2.sdk/</code>.
Note that since strings in the config can be quoted, literal quotes can only be written by quoting the string and use escaped quotes. If omitted, this will revert to the built-in behavior. When this option is specified, <code>*_package_extension</code> must also be specified.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]iphoneos_package_command = &quot;\&quot;$PLATFORM_DIR/Developer/usr/bin/PackageApplication\&quot; \&quot;$SRCS\&quot; \&quot;$OUT\&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  iphoneos_package_extension = zip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="_package_extension">*_package_extension<a href="#_package_extension" class="hash-link" aria-label="Direct link to *_package_extension" title="Direct link to *_package_extension">​</a></h3><p>Specify the output extension for custom <code>apple_package</code> rules configured with<code>*_package_command</code>. This config option must be specified when <code>*_package_command</code> is specified, or both omitted.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="_replacement">*_replacement<a href="#_replacement" class="hash-link" aria-label="Direct link to *_replacement" title="Direct link to *_replacement">​</a></h3><p>Replace Xcode provided tools from imported SDKs and toolchains. Input path must point to a valid executable file. This takes precedence over <code>apple.*_xcode_tool_name_override</code> which only searches for replacement within workspace.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]*_replacement = /usr/bin/true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="_toolchains_override">*_toolchains_override<a href="#_toolchains_override" class="hash-link" aria-label="Direct link to *_toolchains_override" title="Direct link to *_toolchains_override">​</a></h3><p>Specify a comma-delimited custom list of toolchains to use when building with a particular SDK. This is the Buck equivalent of the <code>TOOLCHAINS</code> environment variable when building with Xcode. If omitted, this will revert to the built-in behavior.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">osx_toolchains_override = tools.stable,tools.swift40,tools.common</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="_version_override">*_version_override<a href="#_version_override" class="hash-link" aria-label="Direct link to *_version_override" title="Direct link to *_version_override">​</a></h3><p>Specify version string to use for Xcode tool. By default, Xcode tool&#x27;s version value is calculated automatically from its container SDK and toolchain. But in some cases (e.g. when tools are overridden by <code>apple.*_replacement</code>), it needs to be manually overridden in order to prevent rule key collision.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]actool_replacement=/some/path/to/custom/actool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    actool_version_override=custom_actool_1.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="_xcode_tool_name_override">*_xcode_tool_name_override<a href="#_xcode_tool_name_override" class="hash-link" aria-label="Direct link to *_xcode_tool_name_override" title="Direct link to *_xcode_tool_name_override">​</a></h3><p>Specify custom Xcode tool name to use in place of existing one. When set, buck will lookup Xcode search paths to locate the tool, and use it for tool invocations. This value is ignored when <code>apple.*_replacement</code> for the same tool is set.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[apple]# Use (my_clang|my_actool) executable which exists in one of the# imported SDKs and toolchains, instead of the defaults.clang_xcode_tool_name_override=my_clang</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    actool_xcode_tool_name_override=my_actool</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="build">[build]<a href="#build" class="hash-link" aria-label="Direct link to [build]" title="Direct link to [build]">​</a></h2><p>This section includes settings that control build engine behavior.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="artifact_cache_size_limit">artifact_cache_size_limit<a href="#artifact_cache_size_limit" class="hash-link" aria-label="Direct link to artifact_cache_size_limit" title="Direct link to artifact_cache_size_limit">​</a></h3><p>Specifies the maximum size, in bytes, of a build artifact (output file) that Buck caches.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Use a limit of 50 MB.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">artifact_cache_size_limit = 52428800</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This value is optional. If you do not specify a value, then it sets no limit to the size of an artifact that Buck caches—but see note below regarding distributed caches.
<strong>Note:</strong> This value sets an upper bound on artifact size for all values of <a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a>. The parameter <a href="https://buck.build/files-and-dirs/buckconfig.html#cache.http_max_store_size" target="_blank" rel="noopener noreferrer"><code>[cache].http_max_store_size</code></a> sets an artifact size limit <em>only</em> for distributed cache modes (<code>http</code> and <code>thrift_over_http</code>). Therefore, it is not meaningful to set a value for <code>http_max_store_size</code> which is larger than the value of <code>artifact_cache_size_limit</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="delete_temporaries">delete_temporaries<a href="#delete_temporaries" class="hash-link" aria-label="Direct link to delete_temporaries" title="Direct link to delete_temporaries">​</a></h3><p>If true, Buck deletes some temporary files immediate after executing a build rule. This is useful for conserving disk space when performing large builds. By default, temporary files are not deleted.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]delete_temporaries = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="depfiles">depfiles<a href="#depfiles" class="hash-link" aria-label="Direct link to depfiles" title="Direct link to depfiles">​</a></h3><p>Configures the use of dependency files for rules that support them. This is an optimization that is useful when dependencies are over-specified and the rule can dynamically determine the subset of dependencies it actually needs. The possible values are:</p><ul><li><code>enabled</code>: Use dependency files to avoid unnecessary rebuilds.</li><li><code>cache</code> (default): Use dependency files to avoid unnecessary rebuilds and to store/fetch artifacts to/from the cache.</li><li><code>disabled</code>: Do not use dependency files for rebuild detection.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]depfiles = cache</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="engine">engine<a href="#engine" class="hash-link" aria-label="Direct link to engine" title="Direct link to engine">​</a></h3><p>This has two possible values that change the behavior of how Buck operates when building a <a href="https://buck.build/concept/build_target.html" target="_blank" rel="noopener noreferrer">build target</a>:</p><ul><li><code>shallow</code> (default): only the required transitive dependencies of a <a href="https://buck.build/concept/build_target.html" target="_blank" rel="noopener noreferrer">build target</a> are materialized locally. Cache hits can result in missing transitive dependencies that are not needed for the final output.</li><li><code>deep</code>: ensure that all transitive dependencies of a <a href="https://buck.build/concept/build_target.html" target="_blank" rel="noopener noreferrer">build target</a> are materialized locally.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]engine = shallow</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max_depfile_cache_entries">max_depfile_cache_entries<a href="#max_depfile_cache_entries" class="hash-link" aria-label="Direct link to max_depfile_cache_entries" title="Direct link to max_depfile_cache_entries">​</a></h3><p>Sets the maximum size of the depfile cache for each input source file. This is only used when setting <a href="https://buck.build/files-and-dirs/buckconfig.html#build.depfiles" target="_blank" rel="noopener noreferrer"><code>[build].depfiles</code></a> to <code>cache</code>. An ideal setting for this should be big enough for the working set of all possible header states that a given unchanged source file uses.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]max_depfile_cache_entries = 256</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network_threads">network_threads<a href="#network_threads" class="hash-link" aria-label="Direct link to network_threads" title="Direct link to network_threads">​</a></h3><p>The number of threads to be used for network I/O. The default value is number of cores of the machine.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]network_threads = 8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rule_key_caching">rule_key_caching<a href="#rule_key_caching" class="hash-link" aria-label="Direct link to rule_key_caching" title="Direct link to rule_key_caching">​</a></h3><p>Enables caching of rule key calculations between builds when using the Buck daemon.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]rule_key_caching = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="threads">threads<a href="#threads" class="hash-link" aria-label="Direct link to threads" title="Direct link to threads">​</a></h3><p>Sets the maximum number of threads to use for building. By default, Buck uses the number of available cores multiplied by <code>1.25</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]threads = 4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="thread_core_ratio">thread_core_ratio<a href="#thread_core_ratio" class="hash-link" aria-label="Direct link to thread_core_ratio" title="Direct link to thread_core_ratio">​</a></h3><p>Sets the maximum number of threads to use for building as a ratio of the number of available cores (e.g. <code>0.75</code> on a 4 core machine would limit building to 3 threads, or a value of <code>1.25</code> on the same machine would attempt to use 5 threads).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]thread_core_ratio = 0.75</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="thread_core_ratio_max_threads">thread_core_ratio_max_threads<a href="#thread_core_ratio_max_threads" class="hash-link" aria-label="Direct link to thread_core_ratio_max_threads" title="Direct link to thread_core_ratio_max_threads">​</a></h3><p>The maximum number of threads to use when calculating the number of build threads from thread_core_ratio. (e.g. a value of 2 on a 4 core machine would ensure that, at most, 2 threads were used, and value of 10 on a 40 core machine would ensure that, at most, 10 threads were used).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]thread_core_ratio_max_threads = 10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="thread_core_ratio_min_threads">thread_core_ratio_min_threads<a href="#thread_core_ratio_min_threads" class="hash-link" aria-label="Direct link to thread_core_ratio_min_threads" title="Direct link to thread_core_ratio_min_threads">​</a></h3><p>The minimum number of threads to use when calculating the number of build threads from thread_core_ratio. (e.g. a value of 1 on a 4 core machine would ensure that, at least, 1 thread was used, and value of 4 on a 40 core machine would ensure that, at least, 10 threads were used).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]thread_core_ratio_min_threads = 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="thread_core_ratio_reserved_cores">thread_core_ratio_reserved_cores<a href="#thread_core_ratio_reserved_cores" class="hash-link" aria-label="Direct link to thread_core_ratio_reserved_cores" title="Direct link to thread_core_ratio_reserved_cores">​</a></h3><p>Limit the maximum number of build threads to be the number of detected cores minus this value. (e.g. a value of 1 on a 4 core machine would ensure that, at most, 3 cores were used, and a value of 2 on a 40 core machine would ensure that, at most, 38 cores were used).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]thread_core_ratio_reserved_cores = 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="type">type<a href="#type" class="hash-link" aria-label="Direct link to type" title="Direct link to type">​</a></h3><p>Sets the type of the build that buck has been built with. This allows buck to distinguish different kinds of builds. When you run <code>ant</code> locally, this will be automatically set to <code>LOCAL_ANT</code>. When you build buck using buck locally, e.g. <code>buck build buck</code>, this will be automatically set to <code>LOCAL_PEX</code>. If you are deploying buck through central deployment system, you may want to set build type to <code>RELEASE_PEX</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">buck build buck --config build.type=RELEASE_PEX</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Note:</strong> this setting does not affect how buck builds other rules. It only affects the way how <em>buck will build buck</em>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build]type = RELEASE_PEX</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="buildfile">[buildfile]<a href="#buildfile" class="hash-link" aria-label="Direct link to [buildfile]" title="Direct link to [buildfile]">​</a></h2><p>This section includes settings that control build file behavior.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="includes">includes<a href="#includes" class="hash-link" aria-label="Direct link to includes" title="Direct link to includes">​</a></h3><p>This sets a list of paths to files that will be automatically included by every build file. This is equivalent to calling <a href="https://buck.build/function/include_defs.html" target="_blank" rel="noopener noreferrer"><code>include_defs()</code></a> in every build file.
<strong>NOTE:</strong> We recommend that you do not use this property. This property can make your builds difficult to maintain and debug, and it will be deprecated in a future release of Buck.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[buildfile]includes = //core/DEFS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="name">name<a href="#name" class="hash-link" aria-label="Direct link to name" title="Direct link to name">​</a></h3><p>The name of <a href="https://buck.build/concept/build_file.html" target="_blank" rel="noopener noreferrer">build file</a>s within a project. This defaults to <code>BUCK</code>. We recommend that you use the default name. However, you could specify a different name—such as <code>TARGETS</code> shown below—in order to support, for example, a legacy project that used different buildfile naming conventions.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[buildfile]name = TARGETS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cache">[cache]<a href="#cache" class="hash-link" aria-label="Direct link to [cache]" title="Direct link to [cache]">​</a></h2><p>This section configures build artifact caching. Caching can be configured to use the local filesystem, an SQLite database, or a remote distributed cache that can be shared among developers. Caching is disabled by default. The <a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> setting—described below—determines which properties are relevant to the caching configuration; other properties are ignored by Buck.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mode">mode<a href="#mode" class="hash-link" aria-label="Direct link to mode" title="Direct link to mode">​</a></h3><p>A comma-separated list of caching policies to use. Valid values are:</p><ul><li><code>dir</code> (default): Use a directory-based cache on the local filesystem.</li><li><code>http</code>: Use an http-based cache. See <a href="https://buck.build/concept/http_cache_api.html#binary_http" target="_blank" rel="noopener noreferrer">Binary HTTP Cache API</a>.</li><li><code>thrift_over_http</code>: Use an http-based cache that uses thrift for object metadata. See <a href="https://buck.build/concept/http_cache_api.html#thrift_http" target="_blank" rel="noopener noreferrer">Thrift over HTTP Cache API</a>.</li><li><code>sqlite</code>: Use a SQLite-based cache that inlines small artifacts in the database and stores large artifacts on the local filesystem.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]mode = dir, http, sqlite</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dir">dir<a href="#dir" class="hash-link" aria-label="Direct link to dir" title="Direct link to dir">​</a></h3><p>The path to use for directory-based caching. The path can be:
An absolute path in your local file system, such as <code>/Volumes/mySSD/cache</code>.
A path relative to your home directory, that uses <a href="https://www.gnu.org/software/bash/manual/html_node/Tilde-Expansion.html" target="_blank" rel="noopener noreferrer">tilde (<code>~</code>) expansion</a>. such as <code>~/local/cache</code>.
A path that is relative to the root of your Buck project, such as <a href="https://buck.build/files-and-dirs/buck-out.html" target="_blank" rel="noopener noreferrer"><strong><code>buck-out</code></strong></a><strong><code>/cache</code></strong>, which is the <strong>default</strong>.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>dir</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]dir = buck-out/cache</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dir_cache_names">dir_cache_names<a href="#dir_cache_names" class="hash-link" aria-label="Direct link to dir_cache_names" title="Direct link to dir_cache_names">​</a></h3><p>A comma-separated list of names used to configure multiple dir caches. The caches will be used <strong>serially</strong> in the order in which their names are specified here. If an artifact is found further along in the list, an attempt to store it in the caches earlier in the list will be made. In the following example, if the artifact is found in the <code>warm</code> cache, it will not be stored in the <code>local</code> cache. Note: if <code>[cache] dir</code> or <code>[cache] dir_mode</code> are found, then Buck will fall back to single dir cache more and <code>[cache] dir_cache_names</code> will be completely ignored.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>dir</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]mode = dir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dir_cache_names = warm, local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[cache#warm]dir = ~/prefetched_cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dir_mode = readonly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[cache#local]dir = ~/buck_cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dir_mode = readwrite</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dir_max_size">dir_max_size<a href="#dir_max_size" class="hash-link" aria-label="Direct link to dir_max_size" title="Direct link to dir_max_size">​</a></h3><p>The maximum cache size for directory-based caching. The default size is unlimited.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>dir</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]dir_max_size = 10GB</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dir_mode">dir_mode<a href="#dir_mode" class="hash-link" aria-label="Direct link to dir_mode" title="Direct link to dir_mode">​</a></h3><p>Dictates if the cache is <code>readonly</code>, <code>passthrough</code>, or <code>readwrite</code> (default) when using directory-based caching.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>dir</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]dir_mode = readwrite</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="serve_local_cache">serve_local_cache<a href="#serve_local_cache" class="hash-link" aria-label="Direct link to serve_local_cache" title="Direct link to serve_local_cache">​</a></h3><p>Make the directory-based cache available to other hosts on the network via Buck&#x27;s HTTP server (enabled under <a href="https://buck.build/files-and-dirs/buckconfig.html#httpserver" target="_blank" rel="noopener noreferrer"><code>[httpserver]</code></a>).
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>dir</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]serve_local_cache = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="served_local_cache_mode">served_local_cache_mode<a href="#served_local_cache_mode" class="hash-link" aria-label="Direct link to served_local_cache_mode" title="Direct link to served_local_cache_mode">​</a></h3><p>Dictates if the cache is <code>readonly</code> (default) or <code>readwrite</code> when <a href="https://buck.build/files-and-dirs/buckconfig.html#cache.serve_local_cache" target="_blank" rel="noopener noreferrer"><code>[cache].serve_local_cache</code></a> is enabled.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>dir</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]served_local_cache_mode = readwrite</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_url">http_url<a href="#http_url" class="hash-link" aria-label="Direct link to http_url" title="Direct link to http_url">​</a></h3><p>The URL to use to contact the cache when using http-based caching. Buck communicates with the server using a <a href="https://buck.build/concept/http_cache_api.html" target="_blank" rel="noopener noreferrer">simple API</a>.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_url = http://localhost:8080</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_mode">http_mode<a href="#http_mode" class="hash-link" aria-label="Direct link to http_mode" title="Direct link to http_mode">​</a></h3><p>Dictates if the cache is <code>readonly</code> or <code>readwrite</code> (default) when using http-based caching.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code> or <code>thrift_over_http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_mode = readwrite</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_read_headers">http_read_headers<a href="#http_read_headers" class="hash-link" aria-label="Direct link to http_read_headers" title="Direct link to http_read_headers">​</a></h3><p>A semicolon-separated set of HTTP headers to use when reading from the cache when using http-based caching. The default is no headers.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_read_headers = User-Agent: buck</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_write_headers">http_write_headers<a href="#http_write_headers" class="hash-link" aria-label="Direct link to http_write_headers" title="Direct link to http_write_headers">​</a></h3><p>A semicolon-separated set of HTTP headers to use when writing to the cache when using http-based caching. The default is no headers.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_write_headers = Authorization: XXXXXXX; User-Agent: buck</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_timeout_seconds">http_timeout_seconds<a href="#http_timeout_seconds" class="hash-link" aria-label="Direct link to http_timeout_seconds" title="Direct link to http_timeout_seconds">​</a></h3><p>Dictates the timeout per connection when using http-based caching. It will be the default value for http_connect_timeout_seconds, http_read_timeout_seconds, http_write_timeout_seconds if they&#x27;re not set. The default is <code>3</code>.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_timeout_seconds = 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_connect_timeout_seconds">http_connect_timeout_seconds<a href="#http_connect_timeout_seconds" class="hash-link" aria-label="Direct link to http_connect_timeout_seconds" title="Direct link to http_connect_timeout_seconds">​</a></h3><p>Dictates the timeout on http connect when using http-based caching. If the value is not set, it will try to use the value set for http_timeout_seconds then use the default value <code>3</code>.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_connect_timeout_seconds = 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_read_timeout_seconds">http_read_timeout_seconds<a href="#http_read_timeout_seconds" class="hash-link" aria-label="Direct link to http_read_timeout_seconds" title="Direct link to http_read_timeout_seconds">​</a></h3><p>Dictates the timeout on http writes when using http-based caching. If the value is not set, it will try to use the value set for http_timeout_seconds then use the default value <code>3</code>.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_read_timeout_seconds = 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_write_timeout_seconds">http_write_timeout_seconds<a href="#http_write_timeout_seconds" class="hash-link" aria-label="Direct link to http_write_timeout_seconds" title="Direct link to http_write_timeout_seconds">​</a></h3><p>Dictates the timeout on http reads when using http-based caching. If the value is not set, it will try to use the value set for http_timeout_seconds then use the default value <code>3</code>.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_write_timeout_seconds = 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_max_concurrent_writes">http_max_concurrent_writes<a href="#http_max_concurrent_writes" class="hash-link" aria-label="Direct link to http_max_concurrent_writes" title="Direct link to http_max_concurrent_writes">​</a></h3><p>The number of writer threads to use to upload to the http cache when using http-based caching. The default is <code>1</code>. Note that when using multiple http caches (see below), the writer thread pool is shared between them all.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_max_concurrent_writes = 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_writer_shutdown_timeout_seconds">http_writer_shutdown_timeout_seconds<a href="#http_writer_shutdown_timeout_seconds" class="hash-link" aria-label="Direct link to http_writer_shutdown_timeout_seconds" title="Direct link to http_writer_shutdown_timeout_seconds">​</a></h3><p>The length of time to wait after the build completes for any remaining http cache uploads to complete before forcefully shutting down the writer thread pool when using http-based caching. The default is <code>1800</code> (30 minutes).
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_writer_shutdown_timeout_seconds = 1800</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_error_message_format">http_error_message_format<a href="#http_error_message_format" class="hash-link" aria-label="Direct link to http_error_message_format" title="Direct link to http_error_message_format">​</a></h3><p>This setting allows for the customization of how http cache errors appear to the user. If the text <code>{cache_name}</code> is present, it will be replaced with the name of the cache. If the text <code>{error_message}</code>, it will be replaced with the error message.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code> or <code>thrift_over_http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_error_message_format = The cache named {cache_name} encountered an error: {error_message}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_error_message_limit">http_error_message_limit<a href="#http_error_message_limit" class="hash-link" aria-label="Direct link to http_error_message_limit" title="Direct link to http_error_message_limit">​</a></h3><p>This setting allows to set after how many errors Buck will print the <code>http_error_message_format</code>. Every time it prints it the counter resets to 0 to avoid spamming the console.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code> or <code>thrift_over_http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_error_message_limit = 100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_max_store_attempts">http_max_store_attempts<a href="#http_max_store_attempts" class="hash-link" aria-label="Direct link to http_max_store_attempts" title="Direct link to http_max_store_attempts">​</a></h3><p>Maximum number of times to attempt to store item to the cache before giving up.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code> or <code>thrift_over_http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_max_store_attempts = 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_store_retry_interval_millis">http_store_retry_interval_millis<a href="#http_store_retry_interval_millis" class="hash-link" aria-label="Direct link to http_store_retry_interval_millis" title="Direct link to http_store_retry_interval_millis">​</a></h3><p>Interval to wait if previous cache store request failed.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code> or <code>thrift_over_http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_store_retry_interval_millis = 1000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_max_store_size">http_max_store_size<a href="#http_max_store_size" class="hash-link" aria-label="Direct link to http_max_store_size" title="Direct link to http_max_store_size">​</a></h3><p>The max size in bytes that an artifact can be to get pushed to an http cache.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code> or <code>thrift_over_http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_max_store_size = 5000000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_client_tls_cert">http_client_tls_cert<a href="#http_client_tls_cert" class="hash-link" aria-label="Direct link to http_client_tls_cert" title="Direct link to http_client_tls_cert">​</a></h3><p>The path to a PEM encoded client X.509 TLS certificate that should be used for any HTTP requests to a remote cache. This operates on both read and write connections.
This can be useful within a server to restrict access to a write path, log which users are writing which artifacts, and generally authenticate cache clients.
<strong>Note:</strong> <code>http_client_tls_key</code> must be set for this setting to be used.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code> or <code>thrift_over_http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_client_tls_cert = /etc/pki/client.crt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http_client_tls_key">http_client_tls_key<a href="#http_client_tls_key" class="hash-link" aria-label="Direct link to http_client_tls_key" title="Direct link to http_client_tls_key">​</a></h3><p>The path to a PEM encoded PKCS#8 key that should be used for any HTTP requests to a remote cache. This operates on both read and write connections.
This can be useful within a server to restrict access to a write path, log which users are writing which artifacts, and generally authenticate cache clients.
<strong>Note:</strong> <code>http_client_tls_cert</code> must be set for this setting to be used.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>http</code> or <code>thrift_over_http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]http_client_tls_key = /etc/pki/client.key</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hybrid_thrift_endpoint">hybrid_thrift_endpoint<a href="#hybrid_thrift_endpoint" class="hash-link" aria-label="Direct link to hybrid_thrift_endpoint" title="Direct link to hybrid_thrift_endpoint">​</a></h3><p>The HTTP endpoint to call if using <a href="https://buck.build/concept/http_cache_api.html#thrift_http" target="_blank" rel="noopener noreferrer">Thrift over HTTP Cache API</a>.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>thrift_over_http</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]hybrid_thrift_endpoint = /hybrid_endpoint</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sqlite_inlined_size">sqlite_inlined_size<a href="#sqlite_inlined_size" class="hash-link" aria-label="Direct link to sqlite_inlined_size" title="Direct link to sqlite_inlined_size">​</a></h3><p>The maximum size for artifacts to be inlined. The default size is 40B.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>sqlite</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]sqlite_inlined_size = 10kB</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sqlite_max_size">sqlite_max_size<a href="#sqlite_max_size" class="hash-link" aria-label="Direct link to sqlite_max_size" title="Direct link to sqlite_max_size">​</a></h3><p>The maximum cache size for SQLite-based caching. The default size is unlimited.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>sqlite</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]sqlite_max_size = 10GB</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sqlite_mode">sqlite_mode<a href="#sqlite_mode" class="hash-link" aria-label="Direct link to sqlite_mode" title="Direct link to sqlite_mode">​</a></h3><p>Dictates if the cache is <code>readonly</code>, <code>passthrough</code> or <code>readwrite</code> (default) when using SQLite-based caching
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>sqlite</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]sqlite_mode = readwrite</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sqlite_cache_names">sqlite_cache_names<a href="#sqlite_cache_names" class="hash-link" aria-label="Direct link to sqlite_cache_names" title="Direct link to sqlite_cache_names">​</a></h3><p>A comma-separated list of names used to configure multiple SQLite caches. The caches will be used <strong>serially</strong> in the order in which their names are specified here. If an artifact is found further along in the list, an attempt to store it in the caches earlier in the list will be made. In the following example, if the artifact is found in the <code>warm</code> cache, it will not be stored in the <code>local</code> cache.
<a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a> must contain <code>sqlite</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]mode = sqlite</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sqlite_cache_names = warm, local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[cache#warm]sqlite_mode = readonly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[cache#local]sqlite_mode = readwrite</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="two_level_cache_enabled">two_level_cache_enabled<a href="#two_level_cache_enabled" class="hash-link" aria-label="Direct link to two_level_cache_enabled" title="Direct link to two_level_cache_enabled">​</a></h3><p>Have the Buck client perform 2-level stores and lookups on the artifacts. Every cache operation consists of 2 steps: content hash-based and RuleKey-based. This makes it easier to reuse locally cached artifacts across different buck versions at the expense of higher latencies in the case where artifacts are not present in the local cache.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]two_level_cache_enabled = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="two_level_cache_minimum_size">two_level_cache_minimum_size<a href="#two_level_cache_minimum_size" class="hash-link" aria-label="Direct link to two_level_cache_minimum_size" title="Direct link to two_level_cache_minimum_size">​</a></h3><p>When performing a store artifacts smaller than this size will be stored directly, without the content hash redirection.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]two_level_cache_minimum_size = 1024</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="two_level_cache_maximum_size">two_level_cache_maximum_size<a href="#two_level_cache_maximum_size" class="hash-link" aria-label="Direct link to two_level_cache_maximum_size" title="Direct link to two_level_cache_maximum_size">​</a></h3><p>When performing a store artifacts bigger than this size will be stored directly, without the content hash redirection.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]two_level_cache_maximum_size = 1024</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action_graph_cache_check_enabled">action_graph_cache_check_enabled<a href="#action_graph_cache_check_enabled" class="hash-link" aria-label="Direct link to action_graph_cache_check_enabled" title="Direct link to action_graph_cache_check_enabled">​</a></h3><p>It enables an integrity checking mechanism in the action graph cache that compares the a newly generated action graph with the one already in the cache in the case of a cache hit. If the graphs do not match the build is stopped and the mismatching rules are printed and logged.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]action_graph_cache_check_enabled = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max_action_graph_cache_entries">max_action_graph_cache_entries<a href="#max_action_graph_cache_entries" class="hash-link" aria-label="Direct link to max_action_graph_cache_entries" title="Direct link to max_action_graph_cache_entries">​</a></h3><p>Sets the maximum number of action graphs to cache. After this number, the least-recently-used graph will be evicted. Defaults to 1.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]max_action_graph_cache_entries = 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="load_balancing_type">load_balancing_type<a href="#load_balancing_type" class="hash-link" aria-label="Direct link to load_balancing_type" title="Direct link to load_balancing_type">​</a></h3><p>Decides whether the distributed cache connects to a single URL or it has a pool of servers and chooses which one to use based on client side load balancing. NOTE: &#x27;slb_*&#x27; configs only apply when CLIENT_SLB is enabled.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]load_balancing_type = SINGLE_SERVER, CLIENT_SLB</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="slb_server_pool">slb_server_pool<a href="#slb_server_pool" class="hash-link" aria-label="Direct link to slb_server_pool" title="Direct link to slb_server_pool">​</a></h3><p>A comma separated list of server URLs of valid servers. The client side load balancer will try to pick the best server to connect to for every single connection.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]slb_server_pool = http://my.server.one/,http://my.server.two</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="slb_ping_endpoint">slb_ping_endpoint<a href="#slb_ping_endpoint" class="hash-link" aria-label="Direct link to slb_ping_endpoint" title="Direct link to slb_ping_endpoint">​</a></h3><p>The client side load balancer will use this endpoint to check whether the server is in healthy state or not. It will also be used to measure request latency.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]slb_ping_endpoint = /ping.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="slb_health_check_internal_millis">slb_health_check_internal_millis<a href="#slb_health_check_internal_millis" class="hash-link" aria-label="Direct link to slb_health_check_internal_millis" title="Direct link to slb_health_check_internal_millis">​</a></h3><p>The timeout in milliseconds between two consecutive client side load balancer health checks to the slb_server_pool.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]slb_health_check_internal_millis = 1000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="slb_timeout_millis">slb_timeout_millis<a href="#slb_timeout_millis" class="hash-link" aria-label="Direct link to slb_timeout_millis" title="Direct link to slb_timeout_millis">​</a></h3><p>The connection timeout per health request made to each of the slb_server_pool servers. Any server that fails to respond within this period will be deemed unhealthy and not be used for cache requests.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]slb_timeout_millis = 1000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="slb_error_check_time_range_millis">slb_error_check_time_range_millis<a href="#slb_error_check_time_range_millis" class="hash-link" aria-label="Direct link to slb_error_check_time_range_millis" title="Direct link to slb_error_check_time_range_millis">​</a></h3><p>The error rate to each individual server taking part in the slb_server_pool will be measured in the time range/window specified by this config. In different words, &#x27;errors per second&#x27; is computed only for the last slb_error_check_time_range_millis.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]slb_error_check_time_range_millis = 300000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="slb_max_error_percentage">slb_max_error_percentage<a href="#slb_max_error_percentage" class="hash-link" aria-label="Direct link to slb_max_error_percentage" title="Direct link to slb_max_error_percentage">​</a></h3><p>The max error percentage allowed within the last slb_error_check_time_range_millis that is acceptable to keep a particular server marked as healthy and usable by the load balancer. Expects a float value in the interval <!-- -->[0, 1]<!-- -->.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]slb_max_error_percentage = 0.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="slb_latency_check_time_range_millis">slb_latency_check_time_range_millis<a href="#slb_latency_check_time_range_millis" class="hash-link" aria-label="Direct link to slb_latency_check_time_range_millis" title="Direct link to slb_latency_check_time_range_millis">​</a></h3><p>The latency to each individual server taking part in the slb_server_pool will be measured in the time range/window specified by this config. In different words, &#x27;server latency&#x27; is computed only for the last slb_latency_check_time_range_millis.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]slb_latency_check_time_range_millis = 300000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="slb_max_acceptable_latency_millis">slb_max_acceptable_latency_millis<a href="#slb_max_acceptable_latency_millis" class="hash-link" aria-label="Direct link to slb_max_acceptable_latency_millis" title="Direct link to slb_max_acceptable_latency_millis">​</a></h3><p>If the latency of a ping request to a server in slb_server_pool is higher than this, the server is deemed unhealthy and not used for cache operations.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cache]slb_max_acceptable_latency_millis = 1000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="client">[client]<a href="#client" class="hash-link" aria-label="Direct link to [client]" title="Direct link to [client]">​</a></h2><p>This section includes settings that provide information about the caller. Although these can be specified in <code>.buckconfig</code>, in practice, they are specified exclusively on the command line:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ buck --config client.id=tool-making-this-buck-invocation build buck</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id">id<a href="#id" class="hash-link" aria-label="Direct link to id" title="Direct link to id">​</a></h3><p>It is good practice for tools that call Buck to identify themselves via <code>--config client.id=&lt;toolname&gt;</code>. This makes it easier for developers to audit the source of Buck invocations that they did not make directly.
Note that the value of <code>client.id</code> is not factored into a build rule&#x27;s cache key. It is purely for auditing purposes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="skip-action-graph-cache">skip-action-graph-cache<a href="#skip-action-graph-cache" class="hash-link" aria-label="Direct link to skip-action-graph-cache" title="Direct link to skip-action-graph-cache">​</a></h3><p>When Buck is run as a daemon, it caches the last Action Graph it used for a build so that if the next build identifies the same set of targets, the <!-- -->[possibly expensive]<!-- --> Action Graph construction step can be avoided. Because only the last Action Graph is cached, it may be costly to interleave a small build job among a series of incremental builds of an expensive rule:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build //big:expensive-rule            # Initial Action Graph.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build //big:expensive-rule            # Action Graph is reused.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build //library#compilation-database  # Evicts costly Action Graph.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build //big:expensive-rule            # Action Graph is rebuilt.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Although this scenario may sound contrived, it is very common when other tools may also be running <code>buck build</code> in the background. Work done by IDEs and linters frequently fall into this category. In this case, the best practice is to add <code>--config client.skip-action-graph-cache=true</code> for any sort of &quot;one-off&quot; build for which the cost of caching the Action Graph for the new build likely outweighs the benefit of evicting the Action Graph from the previous build. As this is commonly the case for tools, this flag is frequently used in concert with <code>--config client.id</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build //big:expensive-rule            # Initial Action Graph.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build //big:expensive-rule            # Action Graph is reused.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build \                               # Cached Graph is unaffected.--config client.skip-action-graph-cache=true \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --config client.id=nuclide \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //library#compilation-database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build //big:expensive-rule            # Action Graph is reused.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="color">[color]<a href="#color" class="hash-link" aria-label="Direct link to [color]" title="Direct link to [color]">​</a></h2><p>This section configures colored output of Buck.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ui">ui<a href="#ui" class="hash-link" aria-label="Direct link to ui" title="Direct link to ui">​</a></h3><p>Enables (default) or disables colorized output in the terminal.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[color]ui = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="credentials">[credentials]<a href="#credentials" class="hash-link" aria-label="Direct link to [credentials]" title="Direct link to [credentials]">​</a></h2><p>This section configures credentials to be used when fetching from authenticated Maven repositories via HTTPS.
For a repository <code>repo</code> appearing in <a href="https://buck.build/files-and-dirs/buckconfig.html#maven_repositories" target="_blank" rel="noopener noreferrer"><code>[maven_repositories]</code></a>, Buck reads the values of <code>repo_user</code> and <code>repo_pass</code> in this section (if present), and passes them to the server using <a href="https://en.wikipedia.org/wiki/Basic_access_authentication#Client_side" target="_blank" rel="noopener noreferrer">basic access authentication</a> when fetching.
Note that authenticating in this way over plain HTTP connections is disallowed and will result in an error.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[maven_repositories]repo = https://example.com/repo[credentials]repo_user = joeuser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  repo_pass = hunter2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cxx">[cxx]<a href="#cxx" class="hash-link" aria-label="Direct link to [cxx]" title="Direct link to [cxx]">​</a></h2><p>This section configures the paths to the C and C++ toolchains&#x27; binaries and the default flags to pass to all invocations of them.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cc-platform-flavors-in-buckconfig">C/C++ platform flavors in <code>.buckconfig</code><a href="#cc-platform-flavors-in-buckconfig" class="hash-link" aria-label="Direct link to cc-platform-flavors-in-buckconfig" title="Direct link to cc-platform-flavors-in-buckconfig">​</a></h4><p>Buck enables you to create additional platform <em>flavors</em> for C/C++ in <code>.buckconfig</code>. A platform flavor groups together a set of configuration parameters, which you can then reference at build time.
To create a new C/C++ platform flavor, add a section with the header</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx#**flavor**]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>to <code>.buckconfig</code>.
If you invoke Buck with the specified <em>flavor</em> appended to the <a href="https://buck.build/concept/build_target.html" target="_blank" rel="noopener noreferrer">build target</a>, Buck uses the values in this section instead of those in <code>[cxx]</code>. For example, to build with the values in <code>[cxx#my-custom-flavor]</code> instead of <code>[cxx]</code>, you could invoke Buck using the following command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build app#my-custom-flavor</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can also use these platform flavors, in the <code>platform_*</code> arguments of the <a href="https://buck.build/rule/cxx_binary.html" target="_blank" rel="noopener noreferrer"><code>cxx_binary</code></a> and <a href="https://buck.build/rule/cxx_library.html" target="_blank" rel="noopener noreferrer"><code>cxx_library</code></a> rules.
The <a href="https://github.com/fbsamples/bucksamples/tree/master/hello-buck-cxx" target="_blank" rel="noopener noreferrer">Buck sample for C++</a> demonstrates how to use a custom platform flavor.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cpp">cpp<a href="#cpp" class="hash-link" aria-label="Direct link to cpp" title="Direct link to cpp">​</a></h3><p>The path to the C preprocessor.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]cpp = /usr/bin/gcc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cc">cc<a href="#cc" class="hash-link" aria-label="Direct link to cc" title="Direct link to cc">​</a></h3><p>The path to the C compiler.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]cc = /usr/bin/gcc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ld">ld<a href="#ld" class="hash-link" aria-label="Direct link to ld" title="Direct link to ld">​</a></h3><p>The path to the C/C++ linker driver.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]ld = /usr/bin/g++</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linker_platform">linker_platform<a href="#linker_platform" class="hash-link" aria-label="Direct link to linker_platform" title="Direct link to linker_platform">​</a></h3><p>The platform for the linker. Normally this is autodetected based on the system, but it useful to set when cross compiling. Valid values are:</p><ul><li><code>DARWIN</code></li><li><code>GNU</code></li><li><code>WINDOWS</code></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]linker_platform = DARWIN</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cxxpp">cxxpp<a href="#cxxpp" class="hash-link" aria-label="Direct link to cxxpp" title="Direct link to cxxpp">​</a></h3><p>The path to the C++ preprocessor.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]cxxpp = /usr/bin/g++</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cxx-1">cxx<a href="#cxx-1" class="hash-link" aria-label="Direct link to cxx" title="Direct link to cxx">​</a></h3><p>The path to the C++ compiler.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]cxx = /usr/bin/g++</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="aspp">aspp<a href="#aspp" class="hash-link" aria-label="Direct link to aspp" title="Direct link to aspp">​</a></h3><p>The path to the assembly preprocessor.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]aspp = /usr/bin/gcc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="as">as<a href="#as" class="hash-link" aria-label="Direct link to as" title="Direct link to as">​</a></h3><p>The path to the assembler.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]as = /usr/bin/as</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ar">ar<a href="#ar" class="hash-link" aria-label="Direct link to ar" title="Direct link to ar">​</a></h3><p>The path to the archiver.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]ar = /usr/bin/ar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="archiver_platform">archiver_platform<a href="#archiver_platform" class="hash-link" aria-label="Direct link to archiver_platform" title="Direct link to archiver_platform">​</a></h3><p>The platform for the archiver. Normally this is autodetected based on the system, but it useful to set when cross compiling. Valid values are:</p><ul><li><code>LINUX</code></li><li><code>MACOS</code></li><li><code>FREEBSD</code></li><li><code>WINDOWS</code></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]archiver_platform = MACOS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cppflags">cppflags<a href="#cppflags" class="hash-link" aria-label="Direct link to cppflags" title="Direct link to cppflags">​</a></h3><p>The flags to pass to the C preprocessor.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]cppflags = -Wall</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cflags">cflags<a href="#cflags" class="hash-link" aria-label="Direct link to cflags" title="Direct link to cflags">​</a></h3><p>The flags to pass to the C compiler and preprocessor.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]cflags = -Wall</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ldflags">ldflags<a href="#ldflags" class="hash-link" aria-label="Direct link to ldflags" title="Direct link to ldflags">​</a></h3><p>The flags to pass to the linker.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]ldflags = --strip-all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cxxppflags">cxxppflags<a href="#cxxppflags" class="hash-link" aria-label="Direct link to cxxppflags" title="Direct link to cxxppflags">​</a></h3><p>The flags to pass to the C++ preprocessor.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]cxxppflags = -Wall</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cxxflags">cxxflags<a href="#cxxflags" class="hash-link" aria-label="Direct link to cxxflags" title="Direct link to cxxflags">​</a></h3><p>The flags to pass to the C++ compiler and preprocessor.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]cxxflags = -Wall</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="asppflags">asppflags<a href="#asppflags" class="hash-link" aria-label="Direct link to asppflags" title="Direct link to asppflags">​</a></h3><p>The flags to pass to the assembly preprocessor.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]asppflags = -W</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="asflags">asflags<a href="#asflags" class="hash-link" aria-label="Direct link to asflags" title="Direct link to asflags">​</a></h3><p>The flags to pass to the assembler and assembly preprocessor.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]asflags = -W</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="arflags">arflags<a href="#arflags" class="hash-link" aria-label="Direct link to arflags" title="Direct link to arflags">​</a></h3><p>The flags to pass to the archiver.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]arflags = -X32_64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ranlibflags">ranlibflags<a href="#ranlibflags" class="hash-link" aria-label="Direct link to ranlibflags" title="Direct link to ranlibflags">​</a></h3><p>The flags to pass to the archive indexer.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]ranlibflags = --plugin someplugin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gtest_dep">gtest_dep<a href="#gtest_dep" class="hash-link" aria-label="Direct link to gtest_dep" title="Direct link to gtest_dep">​</a></h3><p>The <a href="https://buck.build/concept/build_rule.html" target="_blank" rel="noopener noreferrer">build rule</a> to compile the <a href="https://github.com/google/googletest" target="_blank" rel="noopener noreferrer">Google Test</a> framework.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]gtest_dep = //third-party/gtest:gtest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you had your Google Test code in <code>third-party/gtest/</code>, the <a href="https://buck.build/concept/build_file.html" target="_blank" rel="noopener noreferrer">build file</a> in that directory would look something like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cxx_library(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name = &#x27;gtest&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  srcs = [&#x27;googletest/src/gtest-all.cc&#x27;,&#x27;googlemock/src/gmock-all.cc&#x27;,&#x27;googlemock/src/gmock_main.cc&#x27;,],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  header_namespace = &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exported_headers = subdir_glob([(&#x27;googletest/include&#x27;, &#x27;**/*.h&#x27;),(&#x27;googlemock/include&#x27;, &#x27;**/*.h&#x27;),]),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  headers = subdir_glob([(&#x27;googletest&#x27;, &#x27;src/*.cc&#x27;),(&#x27;googletest&#x27;, &#x27;src/*.h&#x27;),(&#x27;googlemock&#x27;, &#x27;src/*.cc&#x27;),(&#x27;googlemock&#x27;, &#x27;src/*.h&#x27;),]),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  platform_linker_flags = [(&#x27;android&#x27;, []),(&#x27;&#x27;, [&#x27;-lpthread&#x27;]),],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  visibility = [&#x27;//test/...&#x27;,],)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="untracked_headers">untracked_headers<a href="#untracked_headers" class="hash-link" aria-label="Direct link to untracked_headers" title="Direct link to untracked_headers">​</a></h3><p>How to handle header files that get included in a preprocessing step, but which aren&#x27;t explicitly owned by any dependencies. By default, Buck sandboxes headers into symlink trees, but file relative inclusion and explicit preprocessor flags can still cause untracked headers to get pulled into the build which can break caching.</p><ul><li><code>ignore</code> (default): Untracked headers are allowed in the build.</li><li><code>warn</code>: Print a warning to the console when an untracked header is used.</li><li><code>error</code>: Fail the build when an untracked header is used.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]untracked_headers = error</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="untracked_headers_whitelist">untracked_headers_whitelist<a href="#untracked_headers_whitelist" class="hash-link" aria-label="Direct link to untracked_headers_whitelist" title="Direct link to untracked_headers_whitelist">​</a></h3><p>A list of regexes which match headers to exempt from untracked header verification.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]untracked_headers_whitelist = /usr/include/.*, /usr/local/include/.*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="should_remap_host_platform">should_remap_host_platform<a href="#should_remap_host_platform" class="hash-link" aria-label="Direct link to should_remap_host_platform" title="Direct link to should_remap_host_platform">​</a></h3><p>Specifies whether the <code>default</code> flavor should be remapped to the value of the <a href="https://buck.build/files-and-dirs/buckconfig.html#cxx.host_platform" target="_blank" rel="noopener noreferrer"><code>[cxx].host_platform</code></a> configuration parameter.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  should_remap_host_platform = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Default is <code>false</code>.
Because Buck is designed for cross-platform development, Buck normally ignores the host platform when building a target. For example, Buck normally builds the same Linux target irrespective of whether Buck itself is running on, say, Linux or macOS. The <code>should_remap_host_platform</code> configuration parameter enables you to change Buck&#x27;s behavior so that Buck&#x27;s target platform is the host platform on which Buck is running.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="host_platform">host_platform<a href="#host_platform" class="hash-link" aria-label="Direct link to host_platform" title="Direct link to host_platform">​</a></h3><p>Specifies the host platform to use if <a href="https://buck.build/files-and-dirs/buckconfig.html#cxx.should_remap_host_platform" target="_blank" rel="noopener noreferrer"><code>[cxx].should_remap_host_platform</code></a> is <code>true</code>.
The value that you specify could be one of Buck&#x27;s internal platform flavors, such as <code>linux-x86_64</code> or <code>macosx-x86_64</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  host_platform = linux-x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  host_platform = macosx-x86_64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>or the value could be a custom platform flavor:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  host_platform = my-custom-flavor</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If <code>[cxx].should_remap_host_platform</code> is <code>true</code>, but <code>host_platform</code> is unspecified, then Buck infers the host platform from the local computer to be one of the following values:</p><ul><li><code>linux-x86_64</code> (Linux)</li><li><code>macosx-x86_64</code> (macOS)</li><li><code>freebsd-x86_64</code> (FreeBSD)</li><li><code>windows-x86_64</code> (Windows)</li></ul><p>If <code>[cxx].should_remap_host_platform</code> is unset—or explicitly set to <code>false</code>—then Buck ignores the value of <code>host_platform</code> .</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_platform">default_platform<a href="#default_platform" class="hash-link" aria-label="Direct link to default_platform" title="Direct link to default_platform">​</a></h3><p>Override the default platform for build rules.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]default_platform = iphonesimulator-x86_64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pch_enabled">pch_enabled<a href="#pch_enabled" class="hash-link" aria-label="Direct link to pch_enabled" title="Direct link to pch_enabled">​</a></h3><p>Whether prefix headers used by a <a href="https://buck.build/rule/cxx_library.html" target="_blank" rel="noopener noreferrer"><code>cxx_library</code></a> or other such build rule&#x27;s <code>prefix_header</code> parameter should be separately precompiled, and used in that rule&#x27;s build.
If this is disabled, the prefix header is included as-is, without precompilation.
Default is <code>true</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]pch_enabled = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="link_weight">link_weight<a href="#link_weight" class="hash-link" aria-label="Direct link to link_weight" title="Direct link to link_weight">​</a></h3><p>The number of jobs that each C/C++ link rule consumes when running. By default, this is <code>1</code>, but this can overridden to change how many link rules can execute in parallel for a given <code>-j</code> value. This is useful for builds with large I/O intensive static links where using a lower <code>-j</code> value is undesirable (since it reduces the parallelism for other build rule types).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]link_weight = 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cache_links">cache_links<a href="#cache_links" class="hash-link" aria-label="Direct link to cache_links" title="Direct link to cache_links">​</a></h3><p>C/C++ link rules are cached by default. However, static C/C++ link jobs can take up lots of cache space and also get relatively low hit rates, so this config option provides a way to disable caching of all C/C++ link rules in the build.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]cache_links = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_reexport_all_header_dependencies">default_reexport_all_header_dependencies<a href="#default_reexport_all_header_dependencies" class="hash-link" aria-label="Direct link to default_reexport_all_header_dependencies" title="Direct link to default_reexport_all_header_dependencies">​</a></h3><p>Default value used for <a href="https://buck.build/rule/cxx_library.html#reexport_all_header_dependencies" target="_blank" rel="noopener noreferrer"><code>reexport_all_header_dependencies</code></a>, when it&#x27;s undefined on the build rule.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]default_reexport_all_header_dependencies = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="shlib_interfaces">shlib_interfaces<a href="#shlib_interfaces" class="hash-link" aria-label="Direct link to shlib_interfaces" title="Direct link to shlib_interfaces">​</a></h3><p>When linking a executable or shared library, any dependencies that build shared libraries are normally added to the link line. If this option is set, Buck will use shared library interfaces for these dependencies instead of full shared libraries. Shared library interfaces are a subset of the original shared library, removing parts of the shared library (e.g. the <code>.text</code> segment for ELF) which are typically unused used when this library is being linked against. Using shared library interfaces can allow Buck&#x27;s input-based rule keys to avoid potentially unnecessary re-links (see <code>CxxSharedLibraryInterfaceIntegrationTest</code> for examples).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]shlib_interfaces = enabled</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="independent_shlib_interfaces">independent_shlib_interfaces<a href="#independent_shlib_interfaces" class="hash-link" aria-label="Direct link to independent_shlib_interfaces" title="Direct link to independent_shlib_interfaces">​</a></h3><p>Normally, a shared library interface for a rule is generated using it&#x27;s shared library. Since linking a rule&#x27;s shared library requires the shared library interfaces for all dependencies be built, this means that dynamic linking has inherent non-parallelism, due to this build dependency tree. When this option is set, Buck will build shared library interfaces independent of the rule&#x27;s shared library (e.g. by linking it&#x27;s own shared library without any dependency shared libraries), allowing all shared library interfaces to be built in parallel, and therefore also allowing subsequent shared libraries to be built in parallel.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[cxx]independent_shlib_interfaces = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="d">[d]<a href="#d" class="hash-link" aria-label="Direct link to [d]" title="Direct link to [d]">​</a></h2><p>This section configures how code written in D is compiled.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="base_compiler_flags">base_compiler_flags<a href="#base_compiler_flags" class="hash-link" aria-label="Direct link to base_compiler_flags" title="Direct link to base_compiler_flags">​</a></h3><p>Flags to pass to every invocation of the D compiler. This is a space-separated list. It defaults to an empty list.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[d]base_compiler_flags = -I/some/path -g -O3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="compiler">compiler<a href="#compiler" class="hash-link" aria-label="Direct link to compiler" title="Direct link to compiler">​</a></h3><p>Path to the D compiler. If this parameter is not specified, Buck attempts to find the D compiler automatically.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[d]compiler = /opt/dmd/bin/dmd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="library_path">library_path<a href="#library_path" class="hash-link" aria-label="Direct link to library_path" title="Direct link to library_path">​</a></h3><p>Directories to be searched for the D runtime libraries. This is a colon-separated list. If this parameter is not specified, Buck attempts to detect the location of the libraries automatically.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[d]library_path = /usr/local/lib:/opt/dmd/lib</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linker_flags">linker_flags<a href="#linker_flags" class="hash-link" aria-label="Direct link to linker_flags" title="Direct link to linker_flags">​</a></h3><p>Flags to pass to the linker when linking D code into an executable. This is a space-separated list. If omitted, this value is constructed from d.library_path.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[d]linker_flags = &quot;-L/path to phobos&quot; -lphobos2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="doctor">[doctor]<a href="#doctor" class="hash-link" aria-label="Direct link to [doctor]" title="Direct link to [doctor]">​</a></h2><p>This section defines variables that are associated with command <code>doctor</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="protocol">protocol<a href="#protocol" class="hash-link" aria-label="Direct link to protocol" title="Direct link to protocol">​</a></h3><p>The protocol of communication, it can be either simple or JSON.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[doctor]protocol = json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="endpoint_url">endpoint_url<a href="#endpoint_url" class="hash-link" aria-label="Direct link to endpoint_url" title="Direct link to endpoint_url">​</a></h3><p>The address of the remote endpoint that the request will go. This needs to be defined in order for the command to work.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[doctor]endpoint_url = http://localhost:4545</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="endpoint_timeout_ms">endpoint_timeout_ms<a href="#endpoint_timeout_ms" class="hash-link" aria-label="Direct link to endpoint_timeout_ms" title="Direct link to endpoint_timeout_ms">​</a></h3><p>The timeout in milliseconds before giving up contacting the analysis endpoint.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[doctor]endpoint_timeout_ms = 15</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="endpoint_extra_request_args">endpoint_extra_request_args<a href="#endpoint_extra_request_args" class="hash-link" aria-label="Direct link to endpoint_extra_request_args" title="Direct link to endpoint_extra_request_args">​</a></h3><p>This sections of keys and values is added as parameters to the POST request send to the doctor remote endpoint.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[doctor]endpoint_extra_request_args = ref=&gt;1245,token=&gt;42</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="report_upload_path">report_upload_path<a href="#report_upload_path" class="hash-link" aria-label="Direct link to report_upload_path" title="Direct link to report_upload_path">​</a></h3><p>The address of the remote endpoint the report will be uploaded.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[doctor]report_upload_path = http://localhost:4546</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="report_max_size">report_max_size<a href="#report_max_size" class="hash-link" aria-label="Direct link to report_max_size" title="Direct link to report_max_size">​</a></h3><p>The maximum size that the report endpoint can handle before giving up and storing it only locally.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[doctor]report_max_size = 512MB</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="report_timeout_ms">report_timeout_ms<a href="#report_timeout_ms" class="hash-link" aria-label="Direct link to report_timeout_ms" title="Direct link to report_timeout_ms">​</a></h3><p>The timeout in milliseconds before giving up contacting the report endpoint.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[doctor]report_timeout_ms = 15</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="report_max_upload_retries">report_max_upload_retries<a href="#report_max_upload_retries" class="hash-link" aria-label="Direct link to report_max_upload_retries" title="Direct link to report_max_upload_retries">​</a></h3><p>Times to try to upload to the report endpoint.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[doctor]report_max_upload_retries = 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="report_extra_info_command">report_extra_info_command<a href="#report_extra_info_command" class="hash-link" aria-label="Direct link to report_extra_info_command" title="Direct link to report_extra_info_command">​</a></h3><p>An extra command that the report should and attach the information to the uploaded report.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[doctor]report_extra_info_command = /custom/script/to/run.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="download">[download]<a href="#download" class="hash-link" aria-label="Direct link to [download]" title="Direct link to [download]">​</a></h2><p>This section configures downloading from the network during <a href="https://buck.build/command/fetch.html" target="_blank" rel="noopener noreferrer"><code>buck fetch</code></a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="proxy">proxy<a href="#proxy" class="hash-link" aria-label="Direct link to proxy" title="Direct link to proxy">​</a></h3><p>Buck will attempt to fetch files from the network, however, if you happen to be behind a] firewall, this may not work correctly. You can supply a proxy when downloading from HTTP<!-- -->[S]<!-- --> servers with these three settings. Valid types for <code>proxy_type</code> are <code>HTTP</code> (default) and <code>SOCKS</code>. These values correspond to <a href="http://docs.oracle.com/javase/8/docs/api/java/net/Proxy.Type.html" target="_blank" rel="noopener noreferrer">Java&#x27;s Proxy.Type</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[download]proxy_host=proxy.example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_port=8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_type=HTTP</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="maven_repo">maven_repo<a href="#maven_repo" class="hash-link" aria-label="Direct link to maven_repo" title="Direct link to maven_repo">​</a></h3><p>If a remote file&#x27;s URL starts with <code>mvn:</code>, that file (usually a jar) is supposed to come from a maven repo. You can specify the repo to download from here, or by setting one or more repositories in <a href="https://buck.build/files-and-dirs/buckconfig.html#maven_repositories" target="_blank" rel="noopener noreferrer"><code>[maven_repositories]</code></a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[download]maven_repo = https://repo1.maven.org/maven2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max_number_of_retries">max_number_of_retries<a href="#max_number_of_retries" class="hash-link" aria-label="Direct link to max_number_of_retries" title="Direct link to max_number_of_retries">​</a></h3><p>In case buck is unable to download a file, it will retry specified number of times before giving up. By default it&#x27;s not set, so Buck is not going to retry failed downloads.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[download]max_number_of_retries = 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="in_build">in_build<a href="#in_build" class="hash-link" aria-label="Direct link to in_build" title="Direct link to in_build">​</a></h3><p>If true, allow downloads to be part of the build process. If false, buck build / run / test will require the user to run &#x27;buck fetch&#x27; first. This generally should not be changed, to avoid surprising users with unexpected build times, when the cause is mostly download times. By default this set to false.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[download]in_build = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dx">[dx]<a href="#dx" class="hash-link" aria-label="Direct link to [dx]" title="Direct link to [dx]">​</a></h2><p>This section controls how Buck invokes the dx tool.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="threads-1">threads<a href="#threads-1" class="hash-link" aria-label="Direct link to threads" title="Direct link to threads">​</a></h3><p>Fixed number of threads to run dexing steps with. If not specified, the optimal number is inferred from hardware specification of running machine.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[dx]threads = 4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max_threads">max_threads<a href="#max_threads" class="hash-link" aria-label="Direct link to max_threads" title="Direct link to max_threads">​</a></h3><p>The maximum number of threads allowed to run the dexing steps with. Since the dexing steps can use a lot of memory, it might be useful to set this to a lower value to avoid out-of-memory on systems that have a lot of CPU cores. This parameter is mostly useful when <a href="https://buck.build/files-and-dirs/buckconfig.html#dx.threads" target="_blank" rel="noopener noreferrer"><code>[dx].threads</code></a> is not specified and the number of threads is obtained based on hardware.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[dx]max_threads = 8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max_heap_size">max_heap_size<a href="#max_heap_size" class="hash-link" aria-label="Direct link to max_heap_size" title="Direct link to max_heap_size">​</a></h3><p>This option specifies how much memory is available when running dx out of process.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[dx]max_heap_size = 2g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="export_file">[export_file]<a href="#export_file" class="hash-link" aria-label="Direct link to [export_file]" title="Direct link to [export_file]">​</a></h2><p>This section configures behavior of <code>export_file</code> build rule.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="input_directory_action">input_directory_action<a href="#input_directory_action" class="hash-link" aria-label="Direct link to input_directory_action" title="Direct link to input_directory_action">​</a></h3><p>Defines the behavior of <code>export_file</code> when input of a build rule is a directory. Support for directories will be removed soon and this option provides a way to migrate a project to a state when none of the <code>export_file</code> rules use directories as inputs.
The valid values are:</p><ul><li><code>allow</code> (default): directories are allowed and no action is taken,</li><li><code>warn</code>: emit a warning to the console,</li><li><code>fail</code>: fail the build.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[export_file]input_directory_action = fail</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="go">[go]<a href="#go" class="hash-link" aria-label="Direct link to [go]" title="Direct link to [go]">​</a></h2><p>This section defines the Go toolchain. By default Buck will try to discovery the Go compiler and linker from the <code>go</code> tool found in your <code>PATH</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="root">root<a href="#root" class="hash-link" aria-label="Direct link to root" title="Direct link to root">​</a></h3><p>If you have a non-standard Go install, you will need to set the Go root. The root should contain <code>pkg</code> and <code>bin</code> directories.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[go]root = /opt/golang/libexec</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prefix">prefix<a href="#prefix" class="hash-link" aria-label="Direct link to prefix" title="Direct link to prefix">​</a></h3><p>For interoperability with the go tool, you may specify a prefix for your default package names.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[go]prefix = github.com/facebook/buck</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tool">tool<a href="#tool" class="hash-link" aria-label="Direct link to tool" title="Direct link to tool">​</a></h3><p>You can specify the path to find the <code>go</code> tool. This in turn will allow Buck to discover the compiler/linker by default. This defaults to <code>${go.root}/bin/go</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[go]tool = /usr/local/bin/go</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="compiler-1">compiler<a href="#compiler-1" class="hash-link" aria-label="Direct link to compiler" title="Direct link to compiler">​</a></h3><p>The full path to the Go compiler. This is normally automatically discovered.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[go]compiler = /usr/local/libexec/go/pkg/tool/darwin_amd64/compile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assembler">assembler<a href="#assembler" class="hash-link" aria-label="Direct link to assembler" title="Direct link to assembler">​</a></h3><p>The full path to the Go assembler. This is normally automatically discovered.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[go]assembler = /usr/local/libexec/go/pkg/tool/darwin_amd64/asm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="packer">packer<a href="#packer" class="hash-link" aria-label="Direct link to packer" title="Direct link to packer">​</a></h3><p>The full path to the Go packer. This is normally automatically discovered.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[go]packer = /usr/local/libexec/go/pkg/tool/darwin_amd64/pack</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linker">linker<a href="#linker" class="hash-link" aria-label="Direct link to linker" title="Direct link to linker">​</a></h3><p>The full path to the Go linker. This is normally automatically discovered.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[go]linker = /usr/local/libexec/go/pkg/tool/darwin_amd64/link</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="vendor_path">vendor_path<a href="#vendor_path" class="hash-link" aria-label="Direct link to vendor_path" title="Direct link to vendor_path">​</a></h3><p>A list of colon (:) separated list of directories to include for including in the importmap for Go dependencies. Packages in these directories are allowed to be imported given just the relative path to the package. This is similar to how &#x27;vendor&#x27; directories work. e.g you can use <code>import golang.org/x/net</code> for a package that lives in<code>/golang.org/x/net</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[go]vendor_path = third-party/go</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="project_path">project_path<a href="#project_path" class="hash-link" aria-label="Direct link to project_path" title="Direct link to project_path">​</a></h3><p>You can specify the path where <code>buck project</code> will store dynamically generated files (ex. genrule). This is extension to <code>$GOPATH</code>, particularly usefully while working with native go toolchain or IDE&#x27;s.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[go]project_path = third-party/go</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="groovy">[groovy]<a href="#groovy" class="hash-link" aria-label="Direct link to [groovy]" title="Direct link to [groovy]">​</a></h2><p>This section configures the <a href="http://groovy-lang.org/" target="_blank" rel="noopener noreferrer">Groovy</a> toolchain.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="groovy_home">groovy_home<a href="#groovy_home" class="hash-link" aria-label="Direct link to groovy_home" title="Direct link to groovy_home">​</a></h3><p>This defines the value of <code>GROOVY_HOME</code> that Buck should use. If it is not provided, Buck will use the system&#x27;s <code>GROOVY_HOME</code> by default.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[groovy]groovy_home = /path/to/groovy_home</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="halide">[halide]<a href="#halide" class="hash-link" aria-label="Direct link to [halide]" title="Direct link to [halide]">​</a></h2><p>This section configures the <a href="http://halide-lang.org/" target="_blank" rel="noopener noreferrer">Halide</a> platform mappings and toolchain.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="target">target<a href="#target" class="hash-link" aria-label="Direct link to target" title="Direct link to target">​</a></h3><p>This defines the C++ platform flavor to Halide target mapping. Each key should begin with the prefix <code>target_</code>, followed by the flavor name. The corresponding value should be the Halide target string to use when building for that flavor.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[halide]target_iphonesimulator-x86_64 = x86-64-osx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  target_iphoneos-arm64         = arm-64-ios</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="xcode_compile_script">xcode_compile_script<a href="#xcode_compile_script" class="hash-link" aria-label="Direct link to xcode_compile_script" title="Direct link to xcode_compile_script">​</a></h3><p>The optional path to a shell script which should be used for invoking the Halide AOT &quot;compiler&quot; when building projects that include Halide targets in Xcode.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[halide]xcode_compile_script = //path/to/script.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="httpserver">[httpserver]<a href="#httpserver" class="hash-link" aria-label="Direct link to [httpserver]" title="Direct link to [httpserver]">​</a></h2><p>Option to enable an experimental web server that presents a UI to explore build data. Note that Buck must be run as a daemon in order for the web server to be available.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="port">port<a href="#port" class="hash-link" aria-label="Direct link to port" title="Direct link to port">​</a></h3><p>This sets the port to use for the web server. There are three possible values:</p><ul><li><code>n &gt; 0</code>: For any positive integer, Buck will attempt to make the server available on that port.</li><li><code>0</code>: Buck will find a free port for the server to use and print it out on the command line.</li><li><code>-1</code>: Explicitly disables the server.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[httpserver]port = 8080</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="incompatible">[incompatible]<a href="#incompatible" class="hash-link" aria-label="Direct link to [incompatible]" title="Direct link to [incompatible]">​</a></h2><p>This section controls features of buck that are in the process of being deprecated.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="intellij">[intellij]<a href="#intellij" class="hash-link" aria-label="Direct link to [intellij]" title="Direct link to [intellij]">​</a></h2><p>This section configures a project generated for IntelliJ IDEA by <code>buck project</code> command.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_android_manifest_path">default_android_manifest_path<a href="#default_android_manifest_path" class="hash-link" aria-label="Direct link to default_android_manifest_path" title="Direct link to default_android_manifest_path">​</a></h3><p>The default manifest file that should be used in Android IntelliJ modules when buck cannot detect the correct manifest to use.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]default_android_manifest_path = shared/AndroidManifest.xml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jdk_name">jdk_name<a href="#jdk_name" class="hash-link" aria-label="Direct link to jdk_name" title="Direct link to jdk_name">​</a></h3><p>IntelliJ project SDK name.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]jdk_name = Java SDK 1.6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jdk_type">jdk_type<a href="#jdk_type" class="hash-link" aria-label="Direct link to jdk_type" title="Direct link to jdk_type">​</a></h3><p>IntelliJ project SDK type.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]jdk_type = Android SDK or JavaSDK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="android_module_sdk_type">android_module_sdk_type<a href="#android_module_sdk_type" class="hash-link" aria-label="Direct link to android_module_sdk_type" title="Direct link to android_module_sdk_type">​</a></h3><p>Default Android SDK type for android modules.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]android_module_sdk_type = Android SDK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="android_module_sdk_name">android_module_sdk_name<a href="#android_module_sdk_name" class="hash-link" aria-label="Direct link to android_module_sdk_name" title="Direct link to android_module_sdk_name">​</a></h3><p>Default Android SDK name for android modules.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]android_module_sdk_name = Android API 23 Platform</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="java_module_sdk_type">java_module_sdk_type<a href="#java_module_sdk_type" class="hash-link" aria-label="Direct link to java_module_sdk_type" title="Direct link to java_module_sdk_type">​</a></h3><p>SDK type for Java modules.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]java_module_sdk_type = JavaSDK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="java_module_sdk_name">java_module_sdk_name<a href="#java_module_sdk_name" class="hash-link" aria-label="Direct link to java_module_sdk_name" title="Direct link to java_module_sdk_name">​</a></h3><p>SDK name for Java modules.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]java_module_sdk_name = 1.8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_min_android_sdk_version">default_min_android_sdk_version<a href="#default_min_android_sdk_version" class="hash-link" aria-label="Direct link to default_min_android_sdk_version" title="Direct link to default_min_android_sdk_version">​</a></h3><p>Default minimum Android SDK version supported for this project. Overwritten by min SDK version if specified in target&#x27;s AndroidManifest.xml.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]default_min_android_sdk_version = 9</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="generated_sources_label_map">generated_sources_label_map<a href="#generated_sources_label_map" class="hash-link" aria-label="Direct link to generated_sources_label_map" title="Direct link to generated_sources_label_map">​</a></h3><p>Allows adding folders with generated source code to IntelliJ project. These folders are added when a target has a label specified in this option. In the example below, if target <code>//app/target</code> has label <code>generated_code1</code> folder <code>buck-out/gen/app/lib/__lib_target1__</code> will be added to IntelliJ project.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]generated_sources_label_map = generated_code_1 =&gt; __%name%_target1__,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       generated_code2 =&gt; __%name%_target2__</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="include_transitive_dependencies">include_transitive_dependencies<a href="#include_transitive_dependencies" class="hash-link" aria-label="Direct link to include_transitive_dependencies" title="Direct link to include_transitive_dependencies">​</a></h3><p>Add transitive dependencies as RUNTIME library.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]include_transitive_dependencies = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="module_group_name">module_group_name<a href="#module_group_name" class="hash-link" aria-label="Direct link to module_group_name" title="Direct link to module_group_name">​</a></h3><p>Specify module group name when grouping modules. If it is set to &#x27;&#x27;, modules are not grouped.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]module_group_name = modules</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="remove_unused_libraries">remove_unused_libraries<a href="#remove_unused_libraries" class="hash-link" aria-label="Direct link to remove_unused_libraries" title="Direct link to remove_unused_libraries">​</a></h3><p>Removes unused libraries from .idea/libraries.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]remove_unused_libraries = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="aggregate_android_resource_modules">aggregate_android_resource_modules<a href="#aggregate_android_resource_modules" class="hash-link" aria-label="Direct link to aggregate_android_resource_modules" title="Direct link to aggregate_android_resource_modules">​</a></h3><p>Forces <code>buck project</code> to aggregate modules with Android resources. This aggregation is performed only if aggregation mode is not <code>none</code>.
<strong>Note:</strong> using this type of aggregation disables Android layout editor provided by Android plugin. The layout files can still be edited using the XML editor.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]aggregate_android_resource_modules = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="android_resource_module_aggregation_limit">android_resource_module_aggregation_limit<a href="#android_resource_module_aggregation_limit" class="hash-link" aria-label="Direct link to android_resource_module_aggregation_limit" title="Direct link to android_resource_module_aggregation_limit">​</a></h3><p>The maximum number of targets that can be aggregated into one module with Android resources. This limit is a workaround to avoid a problem when Android plugin cannot operate on modules with a big number of resource folders.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]android_resource_module_aggregation_limit = 1000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="project_compiler_output_url">project_compiler_output_url<a href="#project_compiler_output_url" class="hash-link" aria-label="Direct link to project_compiler_output_url" title="Direct link to project_compiler_output_url">​</a></h3><p>The output directory for IntelliJ&#x27;s builds.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]project_compiler_output_url = intellij-out/classes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="extra_compiler_output_modules_path">extra_compiler_output_modules_path<a href="#extra_compiler_output_modules_path" class="hash-link" aria-label="Direct link to extra_compiler_output_modules_path" title="Direct link to extra_compiler_output_modules_path">​</a></h3><p>This option specifies the location of additional modules for code generated outside of buck graph. For example, it can be used to specify the location of R.java classes generated for Android plugin to help Layout Preview with resolving references to resources.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[intellij]extra_compiler_output_modules_path = buck-out/extra-intellij-output</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="java">[java]<a href="#java" class="hash-link" aria-label="Direct link to [java]" title="Direct link to [java]">​</a></h2><p>This section configures the Java toolchain.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="src_roots">src_roots<a href="#src_roots" class="hash-link" aria-label="Direct link to src_roots" title="Direct link to src_roots">​</a></h3><p>The paths to roots of Java code (where a root contains a tree of Java folders where the folder structure mirrors the package structure). This list of paths is comma-delimited. Paths that start with a slash are relative to the root of the project, and all other paths can match a folder anywhere in the tree. In the example below, we match all folders named <code>src</code>, and <code>java</code> and <code>javatests</code> at the root of the project.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[java]src_roots = src, /java/, /javatests/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="extra_arguments">extra_arguments<a href="#extra_arguments" class="hash-link" aria-label="Direct link to extra_arguments" title="Direct link to extra_arguments">​</a></h3><p>A comma-delimited list of flags to pass the Java compiler.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[java]extra_arguments = -g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="source_level">source_level<a href="#source_level" class="hash-link" aria-label="Direct link to source_level" title="Direct link to source_level">​</a></h3><p>The default version of Java for source files. Also defines the project language level in IntelliJ.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[java]source_level = 7</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="target_level">target_level<a href="#target_level" class="hash-link" aria-label="Direct link to target_level" title="Direct link to target_level">​</a></h3><p>The default version of Java for generated code.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[java]target_level = 7</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="skip_checking_missing_deps">skip_checking_missing_deps<a href="#skip_checking_missing_deps" class="hash-link" aria-label="Direct link to skip_checking_missing_deps" title="Direct link to skip_checking_missing_deps">​</a></h3><p>Buck will attempt to analyze build failures and suggest dependencies that might not be declared in order to fix the failure. On large projects, this can be slow. This setting disables the check.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[java]skip_checking_missing_deps = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jar_spool_mode">jar_spool_mode<a href="#jar_spool_mode" class="hash-link" aria-label="Direct link to jar_spool_mode" title="Direct link to jar_spool_mode">​</a></h3><p>Specifies how the compiler output to the <code>.jar</code> file should be spooled. The valid modes are:</p><ul><li><code>intermediate_to_disk</code> (default): writes the intermediate <code>.class</code> files from the compiler output to disk. They are then packed into a <code>.jar</code>.</li><li><code>direct_to_jar</code>: compiler output will be directly written to a <code>.jar</code> file with the intermediate <code>.class</code> files held in memory. The compiler output will still be written to disk if there are any post-processing commands specified during the build.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[java]jar_spool_mode = intermediate_to_disk</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="abi_generation_mode">abi_generation_mode<a href="#abi_generation_mode" class="hash-link" aria-label="Direct link to abi_generation_mode" title="Direct link to abi_generation_mode">​</a></h3><p>Specifies how Buck should create ABI jars when computing <a href="https://buck.build/concept/rule_keys.html#abi_rule_keys" target="_blank" rel="noopener noreferrer">ABI rule keys</a>. Values other than <code>class</code> may not be suitable for all rules; this setting may be overridden on a per-rule basis using the <code>abi_generation_mode</code> parameter on each rule.
The valid modes are:</p><ul><li><code>class</code> (default): creates an ABI jar for each library by first building the library and then stripping out any information that is not part of the interface (such as method bodies and private members).</li></ul><p><code>source</code>: creates an ABI jar for each library in the process of building the library, via a plugin to the Java compiler. This improves build times by allowing each library&#x27;s dependents to start building before the library is done building.
Implies <code>jar_spool_mode = direct_to_jar</code>.
<code>source_only</code>: creates an ABI jar for each library by referencing only the source code of the library, without considering (most of) its dependencies. This can drastically improve build times, especially in larger apps or in build environments with a large number of cores by allowing all ABI jars to be built in parallel, and then all library jars to be built in parallel (up to the available parallelism in the build environment). Additionally, in environments with network-based caches it can reduce the number of calls to the cache required for each build.
Requires some changes to how Java code is written. To migrate, first do some builds in <code>migrating_to_source_only</code> mode, using <a href="https://buck.build/command/fix.html" target="_blank" rel="noopener noreferrer"><code>buck fix</code></a> to fix any issues encountered. Once migrated, errors will still be encountered from time to time when new code does not meet the requirements of this mode.<a href="https://buck.build/command/fix.html" target="_blank" rel="noopener noreferrer"><code>buck fix</code></a> can be used to address these.
When building with <code>source_only</code>, using <a href="https://buck.build/command/build.html" target="_blank" rel="noopener noreferrer"><code>buck build</code></a><code> --keep-going</code> is recommended since some errors that occur when building an ABI jar will actually have their root cause in another rule that builds later.
Read more about source-only ABIs <a href="https://buck.build/concept/java_abis.html" target="_blank" rel="noopener noreferrer">here</a>.
<code>migrating_to_source_only</code>: used when migrating from <code>source</code> to <code>source_only</code>. Acts like <code>source</code>, but issues warnings (in<code>buck.log</code>, not to the console) for any Java code that would cause errors under<code>source_only</code>. <a href="https://buck.build/command/fix.html" target="_blank" rel="noopener noreferrer"><code>buck fix</code></a> can be used to fix most such warnings.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[java]abi_generation_mode = source</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="unused_dependencies_action">unused_dependencies_action<a href="#unused_dependencies_action" class="hash-link" aria-label="Direct link to unused_dependencies_action" title="Direct link to unused_dependencies_action">​</a></h3><p>Action performed when Buck detects that some dependencies are not used during Java compilation.
Note that this feature is experimental and does not handle run-time dependencies.
The valid values are:</p><ul><li><code>ignore</code> (default): ignore unused dependencies,</li><li><code>warn</code>: emit a warning to the console,</li><li><code>fail</code>: fail the compilation.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[java]unused_dependencies_action = warn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="duplicates_log_level">duplicates_log_level<a href="#duplicates_log_level" class="hash-link" aria-label="Direct link to duplicates_log_level" title="Direct link to duplicates_log_level">​</a></h3><p>Verbosity of logs emitted on duplicates when building binary.
The valid values are:</p><ul><li><code>info</code> (default): emit an info to the console,</li><li><code>warn</code>: emit a warning to the console,</li><li><code>fine</code>: emit a fine info to the console, visible only at high verbosity levels.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[java]duplicates_log_level = info</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kotlin">[kotlin]<a href="#kotlin" class="hash-link" aria-label="Direct link to [kotlin]" title="Direct link to [kotlin]">​</a></h2><p>This section configures various aspects of the <a href="https://kotlinlang.org/" target="_blank" rel="noopener noreferrer">Kotlin</a> toolchain.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kotlinc">kotlinc<a href="#kotlinc" class="hash-link" aria-label="Direct link to kotlinc" title="Direct link to kotlinc">​</a></h3><p>The path to the <code>kotlinc</code> compiler executable to use when external compilation is forced. This setting has no effect by itself and must be paired with the <a href="https://buck.build/files-and-dirs/buckconfig.html#kotlin.external" target="_blank" rel="noopener noreferrer"><code>[kotlin].external</code></a> setting.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[kotlin]kotlinc = /usr/local/bin/kotlinc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="external">external<a href="#external" class="hash-link" aria-label="Direct link to external" title="Direct link to external">​</a></h3><p>Forces external compilation via <code>kotlinc</code>. When external compilation is forced the following heuristics are used to locate the <code>kotlinc</code> executable:</p><ul><li>If the <a href="https://buck.build/files-and-dirs/buckconfig.html#kotlin.kotlinc" target="_blank" rel="noopener noreferrer"><code>[kotlin].kotlinc</code></a> setting is specified, the executable specified by that path will be used.</li><li>If the <a href="https://buck.build/files-and-dirs/buckconfig.html#kotlin.kotlin_home" target="_blank" rel="noopener noreferrer"><code>[kotlin].kotlin_home</code></a> path setting is specified, Buck will look for a <code>bin</code> directory under that path for an executable named <code>kotlinc</code>.</li><li>If a <code>KOTLIN_HOME</code> environment variable is present, Buck will look for a <code>bin</code> directory under that path for an executable named <code>kotlinc</code>.</li><li>Lastly, if none of the above are specified, Buck will look for the <code>kotlinc</code> executable in the paths listed in the <code>PATH</code> environment variable.</li></ul><p>Defaults to <code>false</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[kotlin]external = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kotlin_home">kotlin_home<a href="#kotlin_home" class="hash-link" aria-label="Direct link to kotlin_home" title="Direct link to kotlin_home">​</a></h3><p>The path to the Kotlin root folder, typically the installation folder, where various Kotlin assets (executables and JAR files) can be found. This path is used in the following ways:</p><ul><li>When in-memory compilation is used, the <code>kotlin-compiler.jar</code> and other related Kotlin JARs required for compilation are located via this path using the following heuristics:<ul><li>The root of the directory specified by this path is searched.</li><li>If there is a <code>lib</code> directory under this path, it is searched.</li><li>If there is a <code>libexec</code> directory under this path, it is searched.</li></ul></li><li>If external compilation is called for (see <a href="https://buck.build/files-and-dirs/buckconfig.html#kotlin.external" target="_blank" rel="noopener noreferrer"><code>[kotlin].external</code></a>), a <code>bin</code> directory under this directory will be searched to locate the <code>kotlinc</code> executable.</li></ul><p>If this setting is not specified, the location of the Kotlin home directory can be specified via the <code>KOTLIN_HOME</code> environment variable. If neither the <a href="https://buck.build/files-and-dirs/buckconfig.html#kotlin.kotlin_home" target="_blank" rel="noopener noreferrer"><code>[kotlin].kotlin_home</code></a> setting nor the <code>KOTLIN_HOME</code> environment variable is specified, Buck will attempt to locate the home directory by searching for the <code>kotlinc</code> executable in the paths specified by the <code>PATH</code> environment variable. If the <code>kotlinc</code> executable is found, Buck assumes that the <em>parent directory</em> of that executable is the Kotlin home.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[kotlin]kotlin_home = /usr/local/Cellar/kotlin/1.1.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="log">[log]<a href="#log" class="hash-link" aria-label="Direct link to [log]" title="Direct link to [log]">​</a></h2><p>This section controls how Buck will log information about builds for later inspection. Settings in this section will appear as features are in the processing of being deprecated, and be removed after features are removed from Buck.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max_traces">max_traces<a href="#max_traces" class="hash-link" aria-label="Direct link to max_traces" title="Direct link to max_traces">​</a></h3><p>Sets the maximum number of <a href="https://buck.build/about/performance_tuning.html" target="_blank" rel="noopener noreferrer">Chrome Traces</a> that Buck will create.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[log]max_traces = 25</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="compress_traces">compress_traces<a href="#compress_traces" class="hash-link" aria-label="Direct link to compress_traces" title="Direct link to compress_traces">​</a></h3><p><code>true</code> if Buck should GZIP the traces, false otherwise.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[log]compress_traces = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="machine_readable_logger_enabled">machine_readable_logger_enabled<a href="#machine_readable_logger_enabled" class="hash-link" aria-label="Direct link to machine_readable_logger_enabled" title="Direct link to machine_readable_logger_enabled">​</a></h3><p><code>true</code> if Buck should output to a machine readable log file under name <code>buck-machine-log</code>. Log entries are formatted one per line like <code>&lt; Event type &gt;&lt; space &gt;&lt; JSON &gt;</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[log]machine_readable_logger_enabled = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="build_details_template">build_details_template<a href="#build_details_template" class="hash-link" aria-label="Direct link to build_details_template" title="Direct link to build_details_template">​</a></h3><p>If provided, Buck prints the specified string at the end of each build. The string <code>{build_id}</code> is replaced with the current build ID. This can be helpful to link to external systems that may have more details about the build.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[log]build_details_template = &quot;Details at https://example.com/builds/{build_id}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="build_details_commands">build_details_commands<a href="#build_details_commands" class="hash-link" aria-label="Direct link to build_details_commands" title="Direct link to build_details_commands">​</a></h3><p>If <a href="https://buck.build/files-and-dirs/buckconfig.html#log.build_details_template" target="_blank" rel="noopener noreferrer"><code>build_details_template</code></a> is provided, Buck prints the specified string to the console for each of the specified list of commands. This can be useful for ensuring that users do not have too much information provided, but allows configuring log-heavy environments like CI systems to output more information for commands like &#x27;query&#x27;. Default value is build, test, install</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[log]build_details_commands = build, test, install, query, targets</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lua">[lua]<a href="#lua" class="hash-link" aria-label="Direct link to [lua]" title="Direct link to [lua]">​</a></h2><p>This section defines settings relevant to <code>lua_*</code> rules.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lua-1">lua<a href="#lua-1" class="hash-link" aria-label="Direct link to lua" title="Direct link to lua">​</a></h3><p>The path to the Lua interpreter. By default, Buck will search for the binary <code>lua</code> in your <code>PATH</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[lua]lua = /usr/bin/lua</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cxx_library">cxx_library<a href="#cxx_library" class="hash-link" aria-label="Direct link to cxx_library" title="Direct link to cxx_library">​</a></h3><p>The build target of the Lua C library to use to link a standalone interpreter. By default, Buck will use <code>-llua</code> from the C/C++ linker&#x27;s default library search path.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[lua]cxx_library = //third-party/lua:lua</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="starter_type">starter_type<a href="#starter_type" class="hash-link" aria-label="Direct link to starter_type" title="Direct link to starter_type">​</a></h3><p>The method for bootstrapping Lua binaries. By default, <code>native</code> is chosen if the binary contains native libraries and <code>pure</code> is chosen otherwise.</p><ul><li><code>pure</code>: The binary bootstrap process uses pure Lua code. This method cannot be used if the binary includes native code.</li><li><code>native</code>: The binary bootstrap process links in the Lua C library (specified in <a href="https://buck.build/files-and-dirs/buckconfig.html#lua.cxx_library" target="_blank" rel="noopener noreferrer"><code>[lua].cxx_library</code></a>) to form a standalone native interpreter.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[lua]starter_type = pure</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="native_starter_library">native_starter_library<a href="#native_starter_library" class="hash-link" aria-label="Direct link to native_starter_library" title="Direct link to native_starter_library">​</a></h3><p>A C/C++ library to use as a custom starter for Lua binaries which use the<code>NATIVE</code> bootstrap method. The library is expected to define the following function:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#ifdef __cplusplusextern &quot;C&quot;#endifint run_starter(int argc,const char **argv,const char *main_module,const char *modules_dir,const char *extension_suffix);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Where the arguments are as follows:</p><ul><li><code>argc</code>: The number of command-line arguments.</li><li><code>argv</code>: The array of command-line arguments.</li><li><code>main_module</code>: The name of the binary&#x27;s main module.</li><li><code>modules_dir</code>: The path, relative the binary, to the modules directory.</li><li><code>extension_suffix</code>: The suffix used for native libraries (e.g. <code>.so</code>).</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[lua]native_starter_library = //third-party/lua:starter</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="extension">extension<a href="#extension" class="hash-link" aria-label="Direct link to extension" title="Direct link to extension">​</a></h3><p>The extension to use for Lua binaries. Defaults to <code>.lex</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[lua]extension = .lex</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="maven_repositories">[maven_repositories]<a href="#maven_repositories" class="hash-link" aria-label="Direct link to [maven_repositories]" title="Direct link to [maven_repositories]">​</a></h2><p>This section defines the set of maven repositories that Buck can use when attempting to resolve maven artifacts. It takes the form of key value pairs of a short name for the repo and the URL. The URL may either be an HTTP(S) URL, or point to a directory on your local disk.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[maven_repositories]central = https://repo1.maven.org/maven2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  m2 = ~/.m2/repository</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that if you are using Buck to talk to Maven and you are using IPv6, you might need to <a href="https://buck.build/files-and-dirs/buckjavaargs.html" target="_blank" rel="noopener noreferrer">add the following option to your <code>.buckjavaargs</code> file</a>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-Djava.net.preferIPv6Addresses=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ndk">[ndk]<a href="#ndk" class="hash-link" aria-label="Direct link to [ndk]" title="Direct link to [ndk]">​</a></h2><p>This section defines properties to configure building native code against the Android NDK.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ndk_version">ndk_version<a href="#ndk_version" class="hash-link" aria-label="Direct link to ndk_version" title="Direct link to ndk_version">​</a></h3><p>The version of the NDK that Buck should use to build native code. Buck searches for this version in the subdirectories beneath the directory specified by either the <code>ANDROID_NDK_REPOSITORY</code> environment variable or the value of the <a href="https://buck.build/files-and-dirs/buckconfig.html#ndk.ndk_repository_path" target="_blank" rel="noopener noreferrer"><code>[ndk].ndk_repository_path</code></a> property. Buck prefers an exact match, and otherwise accepts a prefix match.
NDKs with a version prior to <code>r11</code> store their version in the file <code>RELEASE.TXT</code>. For example, in version r10c this file contains <code>r10c (64-bit)</code>. In this case, you would use <code>r10c</code> for the value of <code>ndk_version</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ndk_version = r10c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>NDKs with a version after <code>r11</code> use a different format for their version and store their version in the <code>Pkg.Revision</code> property of the file <code>source.properties</code>. For example, this is the content of that file for version r13b:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Pkg.Desc = Android NDKPkg.Revision = 13.1.3345770</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this case, you would use <code>13.1.3345770</code> for the value of <code>ndk_version</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ndk_version = 13.1.3345770</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ndk_path">ndk_path<a href="#ndk_path" class="hash-link" aria-label="Direct link to ndk_path" title="Direct link to ndk_path">​</a></h3><p>This specifies an absolute path to the Android NDK. The default is empty.
Setting this property has the same effect as if you had set either of the following environment variables to the same value:</p><ul><li><code>ANDROID_NDK</code></li><li><code>NDK_HOME</code></li></ul><p>Note that Buck gives precedence to the values of these environment variables—in the order in which they are listed above—over the value of this property in <code>.buckconfig</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]ndk_path = /Library/Android/ndk/r10c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ndk_repository_path">ndk_repository_path<a href="#ndk_repository_path" class="hash-link" aria-label="Direct link to ndk_repository_path" title="Direct link to ndk_repository_path">​</a></h3><p>This specifies the absolute path to a directory that contains multiple versions of the Android NDK in subdirectories. The default is empty.
Setting this property has the same effect as if you had set the <code>ANDROID_NDK_REPOSITORY</code> environment variable to the same value. However, Buck gives precedence to the value of this environment variables over the value of this property in<code>.buckconfig</code>.
Buck selects which NDK to use based on the value of the <a href="https://buck.build/files-and-dirs/buckconfig.html#ndk.ndk_version" target="_blank" rel="noopener noreferrer"><code>[ndk].ndk_version</code></a> property. Currently, if you do not specify a value for <code>ndk.ndk_version</code>, Buck selects the most-recent NDK. However, you should not rely on this behavior as it could change in a future release.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]ndk_repository_path = /Library/Android/ndk</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="app_platform">app_platform<a href="#app_platform" class="hash-link" aria-label="Direct link to app_platform" title="Direct link to app_platform">​</a></h3><p>The android platform libraries that the code is targeting. This is equivalent to the <code>APP_TARGET</code> in the NDK build system. The default is <code>android-16</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]app_platform = android-21</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="app_platform_per_cpu_abi">app_platform_per_cpu_abi<a href="#app_platform_per_cpu_abi" class="hash-link" aria-label="Direct link to app_platform_per_cpu_abi" title="Direct link to app_platform_per_cpu_abi">​</a></h3><p>The android platform libraries that the code is targeting, set on a per-CPU ABI basis. This is equivalent to the <code>APP_TARGET</code> in the NDK build system.
If no value is set for a particular CPU ABI, the value from <a href="https://buck.build/files-and-dirs/buckconfig.html#ndk.app_platform" target="_blank" rel="noopener noreferrer"><code>app_platform</code></a> is used as a fallback.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]app_platform_per_cpu_abi = arm =&gt; android-19, arm64 =&gt; android-22</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cpu_abis">cpu_abis<a href="#cpu_abis" class="hash-link" aria-label="Direct link to cpu_abis" title="Direct link to cpu_abis">​</a></h3><p>A comma separated list of the CPU ABIs that this repo supports. Buck will only build NDK code for these ABIs.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]cpu_abis = armv7, x86</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="compiler-2">compiler<a href="#compiler-2" class="hash-link" aria-label="Direct link to compiler" title="Direct link to compiler">​</a></h3><p>When compiling <a href="https://buck.build/rule/cxx_library.html" target="_blank" rel="noopener noreferrer"><code>cxx_library</code></a> rules, this specifies the compiler family to use from the NDK. The possible values are:</p><ul><li><code>gcc</code> (default): Use the GCC family of compilation tools.</li><li><code>clang</code>: Use the Clang family of compilation tools.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]compiler = gcc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gcc_version">gcc_version<a href="#gcc_version" class="hash-link" aria-label="Direct link to gcc_version" title="Direct link to gcc_version">​</a></h3><p>When compiling <a href="https://buck.build/rule/cxx_library.html" target="_blank" rel="noopener noreferrer"><code>cxx_library</code></a> rules, this specifies the version of GCC to use. This will be used regardless of the value in <a href="https://buck.build/files-and-dirs/buckconfig.html#ndk.compiler" target="_blank" rel="noopener noreferrer"><code>[ndk].compiler</code></a>, as other compiler families still use tools from the GCC toolchain (such as <code>ar</code>). The default value is <code>4.8</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]gcc_version = 4.8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clang_version">clang_version<a href="#clang_version" class="hash-link" aria-label="Direct link to clang_version" title="Direct link to clang_version">​</a></h3><p>When compiling <a href="https://buck.build/rule/cxx_library.html" target="_blank" rel="noopener noreferrer"><code>cxx_library</code></a> rules, this specifies the version of Clang to use. The default value is <code>3.4</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]clang_version = 3.4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cxx_runtime">cxx_runtime<a href="#cxx_runtime" class="hash-link" aria-label="Direct link to cxx_runtime" title="Direct link to cxx_runtime">​</a></h3><p>When compiling <a href="https://buck.build/rule/cxx_library.html" target="_blank" rel="noopener noreferrer"><code>cxx_library</code></a> rules, this specifies the variant of the <a href="http://www.kandroid.org/ndk/docs/CPLUSPLUS-SUPPORT.html" target="_blank" rel="noopener noreferrer">C/C++ runtime</a> to use. Possible values are:</p><ul><li><code>gabixx</code></li><li><code>gnustl</code> (default)</li><li><code>libcxx</code></li><li><code>stlport</code></li><li><code>system</code></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]cxx_runtime = gnustl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cxx_runtime_type">cxx_runtime_type<a href="#cxx_runtime_type" class="hash-link" aria-label="Direct link to cxx_runtime_type" title="Direct link to cxx_runtime_type">​</a></h3><p>When compiling <a href="https://buck.build/rule/cxx_library.html" target="_blank" rel="noopener noreferrer"><code>cxx_library</code></a> rules, this specifies how libraries are intended to be linked with the runtime. If this is <code>static</code>, then the C/C++ runtime library will not be packaged in the APK. Possible values are:</p><ul><li><code>dynamic</code> (default)</li><li><code>static</code></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ndk]cxx_runtime_type = dynamic</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ocaml">[ocaml]<a href="#ocaml" class="hash-link" aria-label="Direct link to [ocaml]" title="Direct link to [ocaml]">​</a></h2><p>This section configures the paths to the OCaml toolchain&#x27;s binaries.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ocamlbytecodecompiler">ocaml.bytecode.compiler<a href="#ocamlbytecodecompiler" class="hash-link" aria-label="Direct link to ocaml.bytecode.compiler" title="Direct link to ocaml.bytecode.compiler">​</a></h3><p>The path to the <a href="https://caml.inria.fr/pub/docs/manual-ocaml/native.html" target="_blank" rel="noopener noreferrer">OCaml bytecode compiler (ocamlc)</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ocaml]ocaml.bytecode.compiler = /usr/local/bin/ocamlc.opt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ocamlcompiler">ocaml.compiler<a href="#ocamlcompiler" class="hash-link" aria-label="Direct link to ocaml.compiler" title="Direct link to ocaml.compiler">​</a></h3><p>The path to the <a href="https://caml.inria.fr/pub/docs/manual-ocaml/comp.html" target="_blank" rel="noopener noreferrer">OCaml native-code compiler (ocamlopt)</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ocaml]ocaml.compiler = /usr/local/bin/ocamlopt.opt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deptool">dep.tool<a href="#deptool" class="hash-link" aria-label="Direct link to dep.tool" title="Direct link to dep.tool">​</a></h3><p>The path to the <a href="https://caml.inria.fr/pub/docs/manual-ocaml/depend.html" target="_blank" rel="noopener noreferrer">OCaml dependency generator (ocamldep)</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ocaml]dep.tool = /usr/local/bin/ocamldep.opt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lexcompiler">lex.compiler<a href="#lexcompiler" class="hash-link" aria-label="Direct link to lex.compiler" title="Direct link to lex.compiler">​</a></h3><p>The path to the <a href="https://caml.inria.fr/pub/docs/manual-ocaml/lexyacc.html#sec296" target="_blank" rel="noopener noreferrer">OCaml lexer generator (ocamllex)</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ocaml]lex.compiler = /usr/local/bin/ocamllex.opt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="yacccompiler">yacc.compiler<a href="#yacccompiler" class="hash-link" aria-label="Direct link to yacc.compiler" title="Direct link to yacc.compiler">​</a></h3><p>The path to the <a href="https://caml.inria.fr/pub/docs/manual-ocaml/lexyacc.html#sec307" target="_blank" rel="noopener noreferrer">OCaml parser generator (ocamlyacc)</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ocaml]yacc.compiler = /usr/local/bin/ocamlyacc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="debug">debug<a href="#debug" class="hash-link" aria-label="Direct link to debug" title="Direct link to debug">​</a></h3><p>The path to the <a href="https://caml.inria.fr/pub/docs/manual-ocaml/debugger.html" target="_blank" rel="noopener noreferrer">OCaml debugger (ocamldebug)</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ocaml]debug = /usr/local/bin/ocamldebug</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="interopincludes">interop.includes<a href="#interopincludes" class="hash-link" aria-label="Direct link to interop.includes" title="Direct link to interop.includes">​</a></h3><p>The path to the OCaml standard library directory (see <a href="https://caml.inria.fr/pub/docs/manual-ocaml/intfc.html" target="_blank" rel="noopener noreferrer">Interfacing C with OCaml</a>).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ocaml]interop.includes = /usr/local/lib/ocaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="parser">[parser]<a href="#parser" class="hash-link" aria-label="Direct link to [parser]" title="Direct link to [parser]">​</a></h2><p>This section defines settings for the BUCK parser.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="python_interpreter">python_interpreter<a href="#python_interpreter" class="hash-link" aria-label="Direct link to python_interpreter" title="Direct link to python_interpreter">​</a></h3><p>The path to the python interpreter to use for parsing. If not specified, the <a href="https://buck.build/files-and-dirs/buckconfig.html#python.interpreter" target="_blank" rel="noopener noreferrer"><code>[python].interpreter</code></a> setting is used.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[parser]python_interpreter = /usr/bin/python</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="python_path">python_path<a href="#python_path" class="hash-link" aria-label="Direct link to python_path" title="Direct link to python_path">​</a></h3><p>The <code>PYTHONPATH</code> environment variable set for the python interpreter used by the parser to use. By default, this is unset.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[parser]python_path = /path1:/path2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="polyglot_parsing_enabled">polyglot_parsing_enabled<a href="#polyglot_parsing_enabled" class="hash-link" aria-label="Direct link to polyglot_parsing_enabled" title="Direct link to polyglot_parsing_enabled">​</a></h3><p>Indicates whether support for experimental polyglot parsing should be enabled. When enabled, build file can have a <code># BUILD FILE SYNTAX: </code>marker followed by one of supported syntax names that include <code>PYTHON_DSL</code> and an experimental <code>SKYLARK</code>. This flag is disabled by default.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[parser]polyglot_parsing_enabled = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_build_file_syntax">default_build_file_syntax<a href="#default_build_file_syntax" class="hash-link" aria-label="Direct link to default_build_file_syntax" title="Direct link to default_build_file_syntax">​</a></h3><p>Specifies the default syntax assumed when parsing build files without explicit build syntax marker (<code># BUILD FILE SYNTAX: </code>). This flag is only applicable when<code>parser.polyglot_parsing_enabled</code> configuration is set to <code>true</code>. By default it&#x27;s value is set to <code>PYTHON_DSL</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[parser]default_build_file_syntax = SKYLARK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="disable_implicit_native_rules">disable_implicit_native_rules<a href="#disable_implicit_native_rules" class="hash-link" aria-label="Direct link to disable_implicit_native_rules" title="Direct link to disable_implicit_native_rules">​</a></h3><p>If set, native rules (<a href="https://buck.build/rule/cxx_library.html" target="_blank" rel="noopener noreferrer"><code>cxx_library</code></a>, <a href="https://buck.build/rule/android_library.html" target="_blank" rel="noopener noreferrer"><code>android_library</code></a>, etc) cannot be used in BUCK files. This can be useful if your team has a common set of macros that should be loaded, and one desires a fast-feedback way to make sure that Buck&#x27;s native rules are not inadvertently used. If set, native rules can only be accessed via the &#x27;native&#x27; object within an extension file that is evaluated with <a href="https://buck.build/function/load.html" target="_blank" rel="noopener noreferrer"><code>load()</code></a> or <a href="https://buck.build/function/include_defs.html" target="_blank" rel="noopener noreferrer"><code>include_defs()</code></a>. This flag is disabled by default (native rules can be used in build files).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[parser]disable_implicit_native_rules = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="warn_about_deprecated_syntax">warn_about_deprecated_syntax<a href="#warn_about_deprecated_syntax" class="hash-link" aria-label="Direct link to warn_about_deprecated_syntax" title="Direct link to warn_about_deprecated_syntax">​</a></h3><p>If set, warnings about deprecated syntax in BUCK files will be issued. This flag is enabled by default.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[parser]warn_about_deprecated_syntax = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project">[project]<a href="#project" class="hash-link" aria-label="Direct link to [project]" title="Direct link to [project]">​</a></h2><p>This section defines project-level settings.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="generate_android_manifest">generate_android_manifest<a href="#generate_android_manifest" class="hash-link" aria-label="Direct link to generate_android_manifest" title="Direct link to generate_android_manifest">​</a></h3><p>Forces Buck to generate &quot;AndroidManifest.xml&quot; files for Android IntelliJ modules. The generated manifests contain package name only to allow Android IntelliJ plugin resolve references to resources correctly.
Manifests are generated for modules that have information about package name and have either none or more than one targets with Android manifests. When a module has exactly one target with Android manifest this manifest is used as a manifest in the module.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]generate_android_manifest = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ide">ide<a href="#ide" class="hash-link" aria-label="Direct link to ide" title="Direct link to ide">​</a></h3><p>Buck attempts to figure out the correct IDE to use based on the type of rule (e.g. for <a href="https://buck.build/rule/apple_library.html" target="_blank" rel="noopener noreferrer"><code>apple_library</code></a> it will generate Xcode workspace), but for cross-platform libraries (like <a href="https://buck.build/rule/cxx_library.html" target="_blank" rel="noopener noreferrer"><code>cxx_library</code></a>) it is not possible. This setting lets you specify the default IDE that <a href="https://buck.build/command/project.html" target="_blank" rel="noopener noreferrer"><code>buck project</code></a> generates. Possible values are:</p><ul><li><code>intellij</code></li><li><code>xcode</code></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]ide = xcode</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="glob_handler">glob_handler<a href="#glob_handler" class="hash-link" aria-label="Direct link to glob_handler" title="Direct link to glob_handler">​</a></h3><p>The <a href="https://buck.build/function/glob.html" target="_blank" rel="noopener noreferrer"><code>glob()</code></a> handler that Buck will use. The possible values are:</p><ul><li><code>python</code> (default): evaluates globs in the Python interpreter while parsing <a href="https://buck.build/concept/build_file.html" target="_blank" rel="noopener noreferrer">build file</a>s.</li><li><code>watchman</code>: evaluates the globs with <a href="https://facebook.github.io/watchman/" target="_blank" rel="noopener noreferrer">Watchman</a>, which is generally much faster.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]glob_handler = python</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="allow_symlinks">allow_symlinks<a href="#allow_symlinks" class="hash-link" aria-label="Direct link to allow_symlinks" title="Direct link to allow_symlinks">​</a></h3><p>If set to <code>forbid</code>, Buck will disallow symbolic links to source and <code>BUCK</code> files. This allows Buck to enable a number of performance improvements. If set to <code>allow</code>, Buck will silently ignore symlinks.
The default value is <code>warn</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]allow_symlinks = forbid</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="build_file_search_method">build_file_search_method<a href="#build_file_search_method" class="hash-link" aria-label="Direct link to build_file_search_method" title="Direct link to build_file_search_method">​</a></h3><p>How Buck finds <code>BUCK</code> files. This is used when a <a href="https://buck.build/concept/build_target_pattern.html" target="_blank" rel="noopener noreferrer">build target pattern contains <code>/...</code></a> and for commands like <a href="https://buck.build/command/project.html" target="_blank" rel="noopener noreferrer"><code>buck project</code></a>. Possible values are:</p><ul><li><code>filesystem_crawl</code> (default): walk the file system recursively using APIs provided by the operating system.</li><li><code>watchman</code>: query <a href="https://facebook.github.io/watchman/" target="_blank" rel="noopener noreferrer">Watchman</a> with a glob query like <code>**/BUCK</code>. For file systems such as EdenFS, <code>watchman</code> can be faster than <code>filesystem_crawl</code>.</li></ul><p>This setting in independent of <a href="https://buck.build/files-and-dirs/buckconfig.html#project.glob_handler" target="_blank" rel="noopener noreferrer"><code>[project].glob_handler</code></a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]build_file_search_method = filesystem_crawl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="watchman_query_timeout_ms">watchman_query_timeout_ms<a href="#watchman_query_timeout_ms" class="hash-link" aria-label="Direct link to watchman_query_timeout_ms" title="Direct link to watchman_query_timeout_ms">​</a></h3><p>When communicating with <a href="https://facebook.github.io/watchman/" target="_blank" rel="noopener noreferrer">Watchman</a>, Buck will wait this long for a response. The default is <code>60000</code> ms.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]watchman_query_timeout_ms = 60000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ide_force_kill">ide_force_kill<a href="#ide_force_kill" class="hash-link" aria-label="Direct link to ide_force_kill" title="Direct link to ide_force_kill">​</a></h3><p>Configures how the <code>buck project</code> command responds if an instance of Apple&#x27;s Xcode IDE is running.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]ide_force_kill = never</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Possible values are:</p><ul><li><code>always</code> : Always terminate Xcode. Do not ask first.</li><li><code>never</code> : Never terminate Xcode.</li><li><code>prompt</code> : Ask the user whether to terminate Xcode. This is the default.</li></ul><p>To specify that Buck should respond in a way that is different than the <code>.buckconfig</code> setting, use the<code>--config</code> command-line option.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">buck project --config project.ide_force_kill=always</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For more information about the <code>--config</code> option, see the <a href="https://buck.build/command/common_parameters.html" target="_blank" rel="noopener noreferrer"><strong>Common Parameters</strong></a> topic.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="initial_targets">initial_targets<a href="#initial_targets" class="hash-link" aria-label="Direct link to initial_targets" title="Direct link to initial_targets">​</a></h3><p>A space-separated list of <a href="https://buck.build/concept/build_target.html" target="_blank" rel="noopener noreferrer">build target</a>s to run when <a href="https://buck.build/command/project.html" target="_blank" rel="noopener noreferrer"><code>buck project</code></a> is executed. This is often a list of <a href="https://buck.build/rule/genrule.html" target="_blank" rel="noopener noreferrer"><code>genrule</code></a>s whose outputs need to exist in order for an IDE to be able to build a project without the help of Buck.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]initial_targets = //java/com/facebook/schema:generate_thrift_jar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ignore">ignore<a href="#ignore" class="hash-link" aria-label="Direct link to ignore" title="Direct link to ignore">​</a></h3><p>A comma-separated list of subtrees within the project root which are ignored in the following contexts:</p><ul><li>Buck daemon filesystem monitoring.</li><li>Filesystem traversal when searching for tests and BUCK files</li><li>IntelliJ project indexing</li></ul><p>Buck automatically excludes its own output, e.g. <code>buck-out</code>, <code>.buckd</code>, and <code>.idea</code>, as well as the cache directory (see <a href="https://buck.build/files-and-dirs/buckconfig.html#cache.mode" target="_blank" rel="noopener noreferrer"><code>[cache].mode</code></a>), but it makes no assumptions about source control systems.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]ignore = .git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pre_process">pre_process<a href="#pre_process" class="hash-link" aria-label="Direct link to pre_process" title="Direct link to pre_process">​</a></h3><p>A script that should be executed before the project files are generated. This should only be used to do some project-specific actions that are reasonably fast.
The environment of this script contains the following variables:</p><ul><li><code>BUCK_PROJECT_TARGETS</code> - whitespace-separated list of input targets.</li><li><code>BUCK_PROJECT_TYPE</code> - the type of a project, can be &quot;xcode&quot; or &quot;intellij&quot;.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]pre_process = scripts/pre_process_buck_project.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="post_process">post_process<a href="#post_process" class="hash-link" aria-label="Direct link to post_process" title="Direct link to post_process">​</a></h3><p>A script that should be executed after the project files are generated. This should only be used to do some project-specific actions that are reasonably fast.
The environment of this script contains the following variables:</p><ul><li><code>BUCK_PROJECT_TARGETS</code> - whitespace-separated list of input targets.</li><li><code>BUCK_PROJECT_TYPE</code> - the type of a project, can be &quot;xcode&quot; or &quot;intellij&quot;.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]post_process = scripts/post_process_buck_project.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="parallel_parsing">parallel_parsing<a href="#parallel_parsing" class="hash-link" aria-label="Direct link to parallel_parsing" title="Direct link to parallel_parsing">​</a></h3><p>When set to <code>true</code>, Buck will parse your <a href="https://buck.build/concept/build_file.html" target="_blank" rel="noopener noreferrer">build file</a>s in parallel.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]parallel_parsing = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="parsing_threads">parsing_threads<a href="#parsing_threads" class="hash-link" aria-label="Direct link to parsing_threads" title="Direct link to parsing_threads">​</a></h3><p>When <a href="https://buck.build/files-and-dirs/buckconfig.html#project.parallel_parsing" target="_blank" rel="noopener noreferrer"><code>[project].parallel_parsing</code></a> is enabled, this specifies the number of threads Buck uses to parse. By default, this is equal to the number of threads Buck uses to build, and will be the minimum of this setting and <a href="https://buck.build/files-and-dirs/buckconfig.html#build.threads" target="_blank" rel="noopener noreferrer"><code>[build].threads</code></a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]parsing_threads = 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="build_file_import_whitelist">build_file_import_whitelist<a href="#build_file_import_whitelist" class="hash-link" aria-label="Direct link to build_file_import_whitelist" title="Direct link to build_file_import_whitelist">​</a></h3><p>A comma-separated list that configures which Python modules can be imported in build files.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]build_file_import_whitelist = math, Foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="shared_libraries_in_bundles">shared_libraries_in_bundles<a href="#shared_libraries_in_bundles" class="hash-link" aria-label="Direct link to shared_libraries_in_bundles" title="Direct link to shared_libraries_in_bundles">​</a></h3><p>When using xcode project, for projects that depend on a library, if set to <code>&#x27;true&#x27;</code>, if that library is the &#x27;binary&#x27; of a bundle, the bundle will replace the library in the Xcode linking phase</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]shared_libraries_in_bundles = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="motd">motd<a href="#motd" class="hash-link" aria-label="Direct link to motd" title="Direct link to motd">​</a></h3><p>A plain text message that will be printed first when a user interacts with buck. This supports simple special characters like newlines (\n).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]motd = &quot;DO NOT BREAK THE BUILD&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="python">[python]<a href="#python" class="hash-link" aria-label="Direct link to [python]" title="Direct link to [python]">​</a></h2><p>This section defines settings relevant to <code>python_*</code> rules.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="python-platform-flavors-in-buckconfig">Python platform flavors in <code>.buckconfig</code><a href="#python-platform-flavors-in-buckconfig" class="hash-link" aria-label="Direct link to python-platform-flavors-in-buckconfig" title="Direct link to python-platform-flavors-in-buckconfig">​</a></h4><p>Buck enables you to create additional platform <em>flavors</em> for Python in <code>.buckconfig</code>. A platform flavor groups together a set of configuration parameters, which you can then reference at build time.
To create a new Python platform flavor, add a section with the header</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[python#**flavor**]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>to <code>.buckconfig</code>. If you invoke Buck with the specified <em>flavor</em> appended to the <a href="https://buck.build/concept/build_target.html" target="_blank" rel="noopener noreferrer">build target</a>, Buck uses the values in this section instead of those in <code>[python]</code>. For example, to build with the values in <code>[python#py3]</code> instead of <code>[python]</code>, you could invoke Buck using the following command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ buck build app#py3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is useful if, for example, you have both Python 2 and Python 3 code in your project and need to differentiate between them by changing the value of the <a href="https://buck.build/files-and-dirs/buckconfig.html#python.interpreter" target="_blank" rel="noopener noreferrer"><code>[python].interpreter</code></a>.
You can also use these platform flavors, in the <code>platform</code> argument of the <a href="https://buck.build/rule/python_binary.html" target="_blank" rel="noopener noreferrer"><code>python_binary</code></a> rule, and in the <code>platform_sources</code> and <code>platform_resources</code> arguments of the <a href="https://buck.build/rule/python_library.html" target="_blank" rel="noopener noreferrer"><code>python_library</code></a> rule.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="interpreter">interpreter<a href="#interpreter" class="hash-link" aria-label="Direct link to interpreter" title="Direct link to interpreter">​</a></h3><p>The path to the python interpreter to use. By default, Buck will search for this in your <code>PATH</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[python]interpreter = /usr/bin/python</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="inplace_interpreter_flags">inplace_interpreter_flags<a href="#inplace_interpreter_flags" class="hash-link" aria-label="Direct link to inplace_interpreter_flags" title="Direct link to inplace_interpreter_flags">​</a></h3><p>Flags to pass to the python interpreter when running a .pex file that is configured to run &#x27;inplace&#x27;. Defaults to <code>-Es</code></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[python]inplace_interpreter_flags = -EBs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="library">library<a href="#library" class="hash-link" aria-label="Direct link to library" title="Direct link to library">​</a></h3><p>The <a href="https://buck.build/concept/build_rule.html" target="_blank" rel="noopener noreferrer">build rule</a>, typically a <a href="https://buck.build/rule/prebuilt_cxx_library.html" target="_blank" rel="noopener noreferrer"><code>prebuilt_cxx_library</code></a>, wrapping the <code>libpython.so</code> that <code>cpp_python_extension</code> rules should build against.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[python]library = //third-party/python:python</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="native_link_strategy">native_link_strategy<a href="#native_link_strategy" class="hash-link" aria-label="Direct link to native_link_strategy" title="Direct link to native_link_strategy">​</a></h3><p>The strategy used for pulling in native dependencies:</p><ul><li><code>merged</code>: Native dependencies which are first-order dependencies of <code>python_*</code> rules are linked as full, separate, shared libraries. Transitive native dependencies are statically linked into a single monolithic shared library. This is preferred to reduce the native code size and shared library count.</li><li><code>separate</code> (default): Transitive native dependencies are linked as full, separate, shared libraries. This is preferred for faster build-time speed.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[python]native_link_strategy = separate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="package_style">package_style<a href="#package_style" class="hash-link" aria-label="Direct link to package_style" title="Direct link to package_style">​</a></h3><p>The packaging style to use for <a href="https://buck.build/rule/python_binary.html" target="_blank" rel="noopener noreferrer"><code>python_binary</code></a> and <a href="https://buck.build/rule/python_test.html" target="_blank" rel="noopener noreferrer"><code>python_test</code></a>. Valid values are:</p><ul><li><code>inplace</code>: builds executables which are only able to run from within the repository. This style of packaging is significantly faster than <code>standalone</code> packages.</li><li><code>standalone</code> (default): builds self-contained executable packages that can be run outside of the repository.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[python]package_style = standalone</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="path_to_pex_executor">path_to_pex_executor<a href="#path_to_pex_executor" class="hash-link" aria-label="Direct link to path_to_pex_executor" title="Direct link to path_to_pex_executor">​</a></h3><p>The path to the tool used to run executable Python packages. For self-executing packages, this should just by the shell.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[python]path_to_pex_executor = /bin/sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pex_extension">pex_extension<a href="#pex_extension" class="hash-link" aria-label="Direct link to pex_extension" title="Direct link to pex_extension">​</a></h3><p>The extension to use for executable Python packages.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[python]pex_extension = .pex</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="version">version<a href="#version" class="hash-link" aria-label="Direct link to version" title="Direct link to version">​</a></h3><p>The implementation and version of the Python interpreter. The syntax is:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;interpreter implementation&gt; &lt;interpreter version&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The implementation and version should be separated by a space.
The version should comprise only numerals and periods; it should not contain characters such as <code>+</code>, although some Python versions use such characters.
To obtain the implementation, you can use the following command, invoked using the relevant Python interpreter:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python -c &quot;import platform; print( platform.python_implementation() )&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Similarly, to obtain the version, use:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python -c &quot;import platform; print( platform.python_version() )&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[python]version = CPython 2.7</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="repositories">[repositories]<a href="#repositories" class="hash-link" aria-label="Direct link to [repositories]" title="Direct link to [repositories]">​</a></h2><p>Lists the cells that constitute the Buck project. Buck builds that are part of this project—that is, which use this <code>.buckconfig</code>—can access the cells specified in this section.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[repositories]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buck = .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bazel_skylib = ./third-party/skylark/bazel-skylib</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The string on the left-hand side of the equals sign is the <em>alias</em> for the cell. The string on the right-hand side of the equals sign is the path to the cell from the directory that contains this <code>.buckconfig</code> file.
It is not necessary to include the current cell in this section, but we consider it a best practice to do so:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">buck = .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can view the contents of this section using the <a href="https://buck.build/command/audit.html" target="_blank" rel="noopener noreferrer"><code>buck audit cell</code></a> command.
Although the name of the section is <em>repositories</em>, the section actually lists <em>cells</em>. In practice, Buck cells often correspond to repositories, but this is not a requirement.
For more information about the relationship between Buck projects, cells, and repositories, see the <a href="https://buck.build/about/overview.html" target="_blank" rel="noopener noreferrer">Key Concepts</a> topic.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">[resources]<a href="#resources" class="hash-link" aria-label="Direct link to [resources]" title="Direct link to [resources]">​</a></h2><p>The settings to control how Buck uses resources to schedule the work. When resource-aware scheduler is enabled, Buck will create more threads in attempt to run resource-independent work in parallel. Number of build threads is still controlled by <code>num_threads</code> option. Buck will also create a number of additional threads that will be used for tasks that don&#x27;t require CPU: network fetches, disk operations, etc. Total number of threads that Buck will operate is controlled by<code>managed_thread_count</code> option, that is, it includes build threads and additional threads.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resource_aware_scheduling_enabled">resource_aware_scheduling_enabled<a href="#resource_aware_scheduling_enabled" class="hash-link" aria-label="Direct link to resource_aware_scheduling_enabled" title="Direct link to resource_aware_scheduling_enabled">​</a></h3><p>When set to <code>true</code>, Buck will attempt to use resource-aware scheduler.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources]resource_aware_scheduling_enabled = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="managed_thread_count">managed_thread_count<a href="#managed_thread_count" class="hash-link" aria-label="Direct link to managed_thread_count" title="Direct link to managed_thread_count">​</a></h3><p>Buck will use <code>num_threads</code> threads for CPU intensive tasks (e.g. local building) and it will use <code>managed_thread_count - num_threads</code>for other purposes. Thus, <code>managed_thread_count</code> value must be greater or equal to <code>num_threads</code> value. If you don&#x27;t specify this value, Buck will create built-in number of additional threads which equals to the number of CPU cores on the machine. These additional threads will be used for non-CPU work like networking, disk I/O and etc. But if one of the <code>num_threads</code> threads is free then Buck will probably use it for non-CPU stuff as well.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources]managed_thread_count = 40</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_cpu_amount">default_cpu_amount<a href="#default_cpu_amount" class="hash-link" aria-label="Direct link to default_cpu_amount" title="Direct link to default_cpu_amount">​</a></h3><p>Amount of CPU resource required by arbitrary job which has no specific setting for its resource amounts. By default is 1 - a single CPU is required for the job to be completed.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources]default_cpu_amount = 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_memory_amount">default_memory_amount<a href="#default_memory_amount" class="hash-link" aria-label="Direct link to default_memory_amount" title="Direct link to default_memory_amount">​</a></h3><p>Amount of memory resource required by arbitrary job which has no specific setting for its resource amounts. By default is 1 - a single memory resource is required for the job to be completed. A single memory resource is an abstract value, currently it equals to 100 Mb.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources]default_memory_amount = 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_disk_io_amount">default_disk_io_amount<a href="#default_disk_io_amount" class="hash-link" aria-label="Direct link to default_disk_io_amount" title="Direct link to default_disk_io_amount">​</a></h3><p>Amount of disk I/O resource required by arbitrary job which has no specific setting for its resource amounts. A single disk resource is an abstract value. Think about it as like SSD can handle 50 parallel disk jobs with weight 1, while HDD can handle only 20. Thus, if job needs to read or write a lot of data, it is better to assign a higher value for its disk I/O amount. This will reduce the risk to have several similar jobs running concurrently and performing huge disk I/O operations, slowing down build itself and system performance.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources]default_disk_io_amount = 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_network_io_amount">default_network_io_amount<a href="#default_network_io_amount" class="hash-link" aria-label="Direct link to default_network_io_amount" title="Direct link to default_network_io_amount">​</a></h3><p>A single network resource is an abstract value. Think about it as Ethernet can handle 50 parallel network jobs with weight 1. Slower network interfaces can handle less amount of jobs. If job needs to send or receive a lot of data, it is better to assign a higher value for its network I/O amount.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources]default_network_io_amount = 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max_memory_resource">max_memory_resource<a href="#max_memory_resource" class="hash-link" aria-label="Direct link to max_memory_resource" title="Direct link to max_memory_resource">​</a></h3><p>Maximum memory resource available to Buck. By default is size of Java heap divided by 100 Mb. A single memory resource is an abstract value, currently it equals to 100 Mb.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources]max_memory_resource = 30</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max_disk_io_resource">max_disk_io_resource<a href="#max_disk_io_resource" class="hash-link" aria-label="Direct link to max_disk_io_resource" title="Direct link to max_disk_io_resource">​</a></h3><p>Maximum disk I/O resource available to Buck. By default the value is 50. Think about it as like SSD can handle 50 parallel disk jobs with weight 1, while HDD can handle only 20. Thus, if job needs to read or write a lot of data, it should require higher disk I/O resource.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources]max_disk_io_resource = 30</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max_network_io_resource">max_network_io_resource<a href="#max_network_io_resource" class="hash-link" aria-label="Direct link to max_network_io_resource" title="Direct link to max_network_io_resource">​</a></h3><p>Maximum disk I/O resource available to Buck. By default the value is 30. Think about it as Ethernet can handle 50 parallel network jobs with weight 1. Slower network interfaces can handle less amount of jobs. If job needs to send or receive a lot of data, it should require higher network I/O resource.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources]max_network_io_resource = 30</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources_per_rule">[resources_per_rule]<a href="#resources_per_rule" class="hash-link" aria-label="Direct link to [resources_per_rule]" title="Direct link to [resources_per_rule]">​</a></h2><p>This section contains required resource amounts for various build rules. If amount for some build rule is not specified in this section, then amount of 1 (CPU), 1 (Memory), 0 (disk i/o) and 0 (network i/o) is used. Amounts are used in local building, so in most cases build rule will require 0 for network I/O unless it fetches any data from network. Rule&#x27;s name is constructed by converting the camel-style class name of the <code>BuildRule</code>in Buck&#x27;s source code (e.g. <code>MyBuildRule</code>) into lower underscored name (e.g. <code>my_build_rule</code>).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources_per_rule]cxx_link = 1, 1, 5, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  android_binary = 8, 30, 30, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Buck will use the defined resource amounts during the build process in order to attempt to use all available resources.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rust">[rust]<a href="#rust" class="hash-link" aria-label="Direct link to [rust]" title="Direct link to [rust]">​</a></h2><p>The settings to control how Buck builds <code>rust_*</code> rules.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="compiler-3">compiler<a href="#compiler-3" class="hash-link" aria-label="Direct link to compiler" title="Direct link to compiler">​</a></h3><p>The path that Buck should use to compile Rust files. By default, it checks your <code>PATH</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[rust]compiler = /usr/local/bin/rustc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rustc_flags">rustc_flags<a href="#rustc_flags" class="hash-link" aria-label="Direct link to rustc_flags" title="Direct link to rustc_flags">​</a></h3><p>Default command-line flags passed to all invocations of the rust compiler.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[rust]rustc_flags = -g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rustc_binary_flags">rustc_binary_flags<a href="#rustc_binary_flags" class="hash-link" aria-label="Direct link to rustc_binary_flags" title="Direct link to rustc_binary_flags">​</a></h3><p>Default command-line flags passed to invocations of the rust compiler in <code>rust_binary</code> rules, in addition to options set in <code>rustc_flags</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[rust]rustc_binary_flags = -C lto</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rustc_library_flags">rustc_library_flags<a href="#rustc_library_flags" class="hash-link" aria-label="Direct link to rustc_library_flags" title="Direct link to rustc_library_flags">​</a></h3><p>Default command-line flags passed to invocations of the rust compiler in <code>rust_library</code> rules, in addition to options set in <code>rustc_flags</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[rust]rustc_library_flags = --cfg=debug</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="unflavored_binaries">unflavored_binaries<a href="#unflavored_binaries" class="hash-link" aria-label="Direct link to unflavored_binaries" title="Direct link to unflavored_binaries">​</a></h3><p>Controls whether the output from <code>rust_binary</code> or <code>rust_test</code> rules include a flavor from the platform in the path or not. Even unflavored, the path includes <code>#binary</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[rust]unflavored_binaries = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="remap_src_paths">remap_src_paths<a href="#remap_src_paths" class="hash-link" aria-label="Direct link to remap_src_paths" title="Direct link to remap_src_paths">​</a></h3><p>Controls whether <code>rustc</code> remaps the source paths in its output. Buck will always construct a link tree with the sources required for a given rule, which means the paths passed to <code>rustc</code> are not the original source paths. This option will remap those paths in compiler output, debug info, <code>file!()</code> and elsewhere to match the original source names. The options are &quot;no&quot; (don&#x27;t remap), and &quot;yes&quot; (remap).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[rust]remap_src_paths = no</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="force_rlib">force_rlib<a href="#force_rlib" class="hash-link" aria-label="Direct link to force_rlib" title="Direct link to force_rlib">​</a></h3><p>When <code>force_rlib</code> is true, then buck will always compile static (rlib) libraries even when the final target (binary or unit test) is being linked with a shared link style. Rust code is typically always statically linked, and a lot of surrounding tooling doesn&#x27;t cope well with dynamically linked Rust crates. Linking with a shared link style will still dynamically link with C/C++ shared objects.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[rust]force_rlib = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prefer_static_libs">prefer_static_libs<a href="#prefer_static_libs" class="hash-link" aria-label="Direct link to prefer_static_libs" title="Direct link to prefer_static_libs">​</a></h3><p>When <code>prefer_static_libs</code> is true, then buck will always prefer to link with static versions of a library when building a shared target. In practice, this only affects linking with the standard library crates.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[rust]prefer_static_libs = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="incremental">incremental<a href="#incremental" class="hash-link" aria-label="Direct link to incremental" title="Direct link to incremental">​</a></h3><p>When set, enable rustc&#x27;s incremental build option.
Rust&#x27;s incremental compilation mode operates transparently to the build system - it is guaranteed to produce bit-for-bit identical output to non-incremental builds. To do this it maintains a separate incremental database to one side. The only requirement is that there is only ever one instance of <code>rustc</code> for a given crate at one time. Buck guarantees this by making sure there&#x27;s a separate incremental database for each flavor (since builds for different flavors of the same target can be run concurrently).
The value of this option is an additional path fragment used for the incremental database path. This allows the user to use separate databases for optimized, debug, etc command lines. If this is not required, then it can be any valid pathname fragment.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[rust]incremental = opt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default_edition">default_edition<a href="#default_edition" class="hash-link" aria-label="Direct link to default_edition" title="Direct link to default_edition">​</a></h3><p>Set the default edition for Rust rules. The edition can be specified on a per-rule basis, but this sets the default if nothing is specified. The default is &quot;2015&quot;.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[rust]default_edition = 2018</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sandbox">[sandbox]<a href="#sandbox" class="hash-link" aria-label="Direct link to [sandbox]" title="Direct link to [sandbox]">​</a></h2><p>This section controls sandboxing. Sandbox execution provides better guarantees about resources accessible to the processes by using system-provided capabilities to restrict certain usages (for example, restricting the set of files allowed to be read and write).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="darwin_sandbox_enabled">darwin_sandbox_enabled<a href="#darwin_sandbox_enabled" class="hash-link" aria-label="Direct link to darwin_sandbox_enabled" title="Direct link to darwin_sandbox_enabled">​</a></h3><p>This option specifies whether sandboxing is enabled on OS X or not.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sandbox]darwin_sandbox_enabled = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="genrule_sandbox_enabled">genrule_sandbox_enabled<a href="#genrule_sandbox_enabled" class="hash-link" aria-label="Direct link to genrule_sandbox_enabled" title="Direct link to genrule_sandbox_enabled">​</a></h3><p>Enables sandbox in <code>genrule</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sandbox]genrule_sandbox_enabled = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="test">[test]<a href="#test" class="hash-link" aria-label="Direct link to [test]" title="Direct link to [test]">​</a></h2><p>The settings to control how Buck runs tests.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="incl_no_location_classes">incl_no_location_classes<a href="#incl_no_location_classes" class="hash-link" aria-label="Direct link to incl_no_location_classes" title="Direct link to incl_no_location_classes">​</a></h3><p>This specifies whether jacoco code coverage is enabled on classes without source location. The default is false. Set to true to enable code coverage with robolectric tests. Note that setting to true will include dynamically created sources in code coverage, such as that created by mocking (e.g. jmockit) or persistence frameworks.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[test]incl_no_location_classes = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="timeout">timeout<a href="#timeout" class="hash-link" aria-label="Direct link to timeout" title="Direct link to timeout">​</a></h3><p>The number of milliseconds per test to allow before stopping the test and reporting a failure. The default is no timeout. Not all <code>*_test</code> rules utilize this value. A JUnit test can override this via the <code>@Test</code> annotation.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[test]timeout = 300000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rule_timeout">rule_timeout<a href="#rule_timeout" class="hash-link" aria-label="Direct link to rule_timeout" title="Direct link to rule_timeout">​</a></h3><p>The number of milliseconds per <code>*_test</code> rule to allow before stopping it and reporting a failure. The default is no timeout.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[test]rule_timeout = 1200000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="external_runner">external_runner<a href="#external_runner" class="hash-link" aria-label="Direct link to external_runner" title="Direct link to external_runner">​</a></h3><p>This specifies an external test runner command to use instead of Buck&#x27;s built-in test runner. The external test runner is invoked by Buck after it has built all the test rules. It passes the test runner the path to a file which contains a JSON-encoded list of test file infos via the <code>--buck-test-info [path]</code> command line option.
Additionally, if <a href="https://buck.build/command/test.html" target="_blank" rel="noopener noreferrer"><code>buck test</code></a> is invoked with <code>-- [extra-runner-args]</code>, these will be passed to the external runner before <code>--buck-test-info</code>.
The JSON-encoded test file contains an array of infos. Those infos have the following fields:</p><ul><li><code>target</code>: The <a href="https://buck.build/concept/build_target.html" target="_blank" rel="noopener noreferrer">build target</a> of the test rule.</li><li><code>type</code>: A string describing the type of the test.</li><li><code>command</code>: An array of command line arguments the test runner should invoke to run the test.</li><li><code>env</code>: A map of environments variables that should be defined by the test runner when running the test.</li><li><code>labels</code>: An array of labels that are defined on the test rule.</li><li><code>contacts</code>: An array of contacts that are defined on the test rule. These are typically user names or email addresses.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[test]external_runner = command args...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="thread_utilization_ratio">thread_utilization_ratio<a href="#thread_utilization_ratio" class="hash-link" aria-label="Direct link to thread_utilization_ratio" title="Direct link to thread_utilization_ratio">​</a></h3><p>Sets the maximum number of threads to use for testing as a ratio of the number of threads used for building. By default(<code>1.0</code>), buck uses runs tests on all threads that were used for building.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[test]thread_utilization_ratio = 0.5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="parallel_external_test_spec_computation_enabled">parallel_external_test_spec_computation_enabled<a href="#parallel_external_test_spec_computation_enabled" class="hash-link" aria-label="Direct link to parallel_external_test_spec_computation_enabled" title="Direct link to parallel_external_test_spec_computation_enabled">​</a></h3><p>Whether external test spec computation is allowed to happen in parallel. Enabling this option can significantly speed up test execution when many test targets are requested. By default it is disabled.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[test]parallel_external_test_spec_computation_enabled = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="threads-2">threads<a href="#threads-2" class="hash-link" aria-label="Direct link to threads" title="Direct link to threads">​</a></h3><p>Specify number of threads used when running test.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[test]threads = 5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="thrift">[thrift]<a href="#thrift" class="hash-link" aria-label="Direct link to [thrift]" title="Direct link to [thrift]">​</a></h2><p>This section provides settings to locate required thrift components.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="compiler-4">compiler<a href="#compiler-4" class="hash-link" aria-label="Direct link to compiler" title="Direct link to compiler">​</a></h3><p>The path or <a href="https://buck.build/concept/build_target.html" target="_blank" rel="noopener noreferrer">build target</a> that builds the <a href="https://thrift.apache.org/" target="_blank" rel="noopener noreferrer">thrift</a> compiler that Buck should use.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[thrift]compiler = /usr/local/bin/thrift</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="compiler2">compiler2<a href="#compiler2" class="hash-link" aria-label="Direct link to compiler2" title="Direct link to compiler2">​</a></h3><p>The path or <a href="https://buck.build/concept/build_target.html" target="_blank" rel="noopener noreferrer">build target</a> that builds the <a href="https://github.com/facebook/fbthrift" target="_blank" rel="noopener noreferrer">thrift2</a> compiler that Buck should use. If this is unset, it defaults to the value of <a href="https://buck.build/files-and-dirs/buckconfig.html#thrift.compiler" target="_blank" rel="noopener noreferrer"><code>[thrift].compiler</code></a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[thrift]compiler2 = /usr/local/bin/thrift2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tools">[tools]<a href="#tools" class="hash-link" aria-label="Direct link to [tools]" title="Direct link to [tools]">​</a></h2><p>This section tells Buck how to find certain tools e.g. how the Java compilation occurs and how auxiliary tools are used e.g. the <a href="http://proguard.sourceforge.net/" target="_blank" rel="noopener noreferrer">ProGuard</a> Java class file optimizer which is used as part of the Android build process.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="javac">javac<a href="#javac" class="hash-link" aria-label="Direct link to javac" title="Direct link to javac">​</a></h3><p>The <code>javac</code> option is a path to a program that acts like Java javac. When set, buck uses this program instead of the system Java compiler. When neither this nor <a href="https://buck.build/files-and-dirs/buckconfig.html#tools.javac_jar" target="_blank" rel="noopener noreferrer"><code>[tools].javac_jar</code></a> is set, Buck defaults to using the system compiler in-memory.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="javac_jar">javac_jar<a href="#javac_jar" class="hash-link" aria-label="Direct link to javac_jar" title="Direct link to javac_jar">​</a></h3><p>When this option is set to a JAR file, Buck loads the referenced compiler in-memory. When neither this nor <a href="https://buck.build/files-and-dirs/buckconfig.html#tools.javac" target="_blank" rel="noopener noreferrer"><code>[tools].javac</code></a> is set, Buck defaults to using the system compiler in-memory.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="java_for_tests">java_for_tests<a href="#java_for_tests" class="hash-link" aria-label="Direct link to java_for_tests" title="Direct link to java_for_tests">​</a></h3><p>The <code>java_for_tests</code> option is a path to a <code>java</code> binary. When set, buck uses that binary to execute Java tests—when using either the internal or external test runners—instead of the <code>java</code> binary used to run Buck itself. When this option is not set, Buck executes Java tests using the same binary used to run Buck.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="compiler_class_name">compiler_class_name<a href="#compiler_class_name" class="hash-link" aria-label="Direct link to compiler_class_name" title="Direct link to compiler_class_name">​</a></h3><p>When javac_jar is set, Buck loads the referenced compiler class name from the jar. When it is not set but javac_jar is set, Buck uses the default compiler class.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="proguard">proguard<a href="#proguard" class="hash-link" aria-label="Direct link to proguard" title="Direct link to proguard">​</a></h3><p>This option specifies the location of the JAR file to be used to invoke ProGuard. This overrides the default ProGuard JAR file that would have been picked up from the Android SDK. Here is an example setting:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[tools]proguard = proguard/proguard-fork.jar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="proguard-max-heap-size">proguard-max-heap-size<a href="#proguard-max-heap-size" class="hash-link" aria-label="Direct link to proguard-max-heap-size" title="Direct link to proguard-max-heap-size">​</a></h3><p>This option specifies how much memory is used when running proguard. Defaults to <code>1024M</code>. You may want to give ProGuard more memory to try and improve performance.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[tools]proguard-max-heap-size = 4096M</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="proguard-agentpath">proguard-agentpath<a href="#proguard-agentpath" class="hash-link" aria-label="Direct link to proguard-agentpath" title="Direct link to proguard-agentpath">​</a></h3><p>This option allows the specification of a Java profiling agent which is set with the <code>-agentpath</code> argument when the ProGuard jar file is executed. Typically this would be set in a <code>.buckconfig.local</code> configuration file for when you want to profile a build running on your local machine. Set this to the actual path of the installed agent on the machine where ProGuard will run.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[tools]proguard-agentpath = /Applications/YourKit_Java_Profiler_2015_build_15084.app/Contents/Resources/bin/mac/libyjpagent.jnilib</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ui-1">[ui]<a href="#ui-1" class="hash-link" aria-label="Direct link to [ui]" title="Direct link to [ui]">​</a></h2><p>This section configures the appearance of Buck&#x27;s command line interface.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="always_sort_threads_by_time">always_sort_threads_by_time<a href="#always_sort_threads_by_time" class="hash-link" aria-label="Direct link to always_sort_threads_by_time" title="Direct link to always_sort_threads_by_time">​</a></h3><p>Specifies whether the lines with information about building and testing threads should always be sorted by the time spent running the rules they are currently executing. When set to false, threads are only sorted if there are more threads than available lines (see <a href="https://buck.build/files-and-dirs/buckconfig.html#ui.thread_line_limit" target="_blank" rel="noopener noreferrer"><code>[ui].thread_line_limit</code></a> for an option to configure this limit). Only effective when the super console is used. The default value is false.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ui]always_sort_threads_by_time = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="error_message_augmentations">error_message_augmentations<a href="#error_message_augmentations" class="hash-link" aria-label="Direct link to error_message_augmentations" title="Direct link to error_message_augmentations">​</a></h3><p>This setting is preliminary and is likely to change.
Specifies a comma-separated list of mappings from regular expressions (regexes) to message strings.
If the text of a Buck parser error matches one of the specified regexes, the corresponding message string is appended to the error. You can use the message string to provide additional helpful information to the user.
If the regex contains unescaped parentheses, <code>()</code>, the text that the parentheses enclose is captured. You can then insert this captured text in the appended string by using <code>$1</code> for the first captured text string, <code>$2</code> for the second, and so on. This works exactly like Java regex replacement strings.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ui]error_message_augmentations = &quot;The rule (//S+)-cxx could not be found.&quot; =&gt; &quot;Please make sure that $1 is a cxx library.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="relativize_targets_to_working_directory">relativize_targets_to_working_directory<a href="#relativize_targets_to_working_directory" class="hash-link" aria-label="Direct link to relativize_targets_to_working_directory" title="Direct link to relativize_targets_to_working_directory">​</a></h3><p>Determines whether <a href="https://buck.build/concept/build_target_pattern.html" target="_blank" rel="noopener noreferrer">build target pattern</a>s provided on the command line are relativized to the current working directory. For example, if <code>buck build bar/...</code>is run from the <code>foo</code> subdirectory of the project, the pattern<code>//foo/bar/...</code> is built instead. If set to <code>false</code>, <code>//bar/...</code>would be built. This defaults to true.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ui]relativize_targets_to_working_directory = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable_show_output_warning">enable_show_output_warning<a href="#enable_show_output_warning" class="hash-link" aria-label="Direct link to enable_show_output_warning" title="Direct link to enable_show_output_warning">​</a></h3><p>Determines whether a deprecation warning for <code>--show-output</code> should be shown. The warning also informs users that they should be using <code>--show-outputs</code> instead. This defaults to false.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ui]enable_show_output_warning = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="thread_line_limit">thread_line_limit<a href="#thread_line_limit" class="hash-link" aria-label="Direct link to thread_line_limit" title="Direct link to thread_line_limit">​</a></h3><p>Specifies how many lines will be used to show the status of running threads during building and testing by default. Only effective when the super console is used. The value has to be a positive number. The default value is 10.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ui]thread_line_limit = 10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="thread_line_limit_on_warning">thread_line_limit_on_warning<a href="#thread_line_limit_on_warning" class="hash-link" aria-label="Direct link to thread_line_limit_on_warning" title="Direct link to thread_line_limit_on_warning">​</a></h3><p>Specifies how many lines will be used to show the status of running threads during building and testing after a warning is reported. Only effective when the super console is used. The value has to be a positive number. Defaults to the value of <a href="https://buck.build/files-and-dirs/buckconfig.html#ui.thread_line_limit" target="_blank" rel="noopener noreferrer"><code>[ui].thread_line_limit</code></a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ui]thread_line_limit_on_warning = 10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="thread_line_limit_on_error">thread_line_limit_on_error<a href="#thread_line_limit_on_error" class="hash-link" aria-label="Direct link to thread_line_limit_on_error" title="Direct link to thread_line_limit_on_error">​</a></h3><p>Specifies how many lines will be used to show the status of running threads during building and testing after an error is reported. Only effective when the super console is used. The value has to be a positive number. Defaults to the value of <a href="https://buck.build/files-and-dirs/buckconfig.html#ui.thread_line_limit" target="_blank" rel="noopener noreferrer"><code>[ui].thread_line_limit</code></a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ui]thread_line_limit_on_error = 10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="truncate_failing_command">truncate_failing_command<a href="#truncate_failing_command" class="hash-link" aria-label="Direct link to truncate_failing_command" title="Direct link to truncate_failing_command">​</a></h3><p>Determines whether a failing executed command is truncated in error messages. This defaults to true.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ui]truncate_failing_command = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="superconsole">superconsole<a href="#superconsole" class="hash-link" aria-label="Direct link to superconsole" title="Direct link to superconsole">​</a></h3><p>Whether the super console is enabled. If so, a more reactive UI will be shown. Valid values are ENABLED, DISABLED, and AUTO. By default, this is set to AUTO which will take OS, terminal settings and other things into account. In most interactive cases, it will be enabled.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ui]superconsole = ENABLED</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="warn_on_config_file_overrides">warn_on_config_file_overrides<a href="#warn_on_config_file_overrides" class="hash-link" aria-label="Direct link to warn_on_config_file_overrides" title="Direct link to warn_on_config_file_overrides">​</a></h3><p>Whether to display a warning when using configuration overrides from <code>.buckconfig.local</code> or any of the files mentioned in <a href="https://buck.build/files-and-dirs/buckconfig.html#config-precedence" target="_blank" rel="noopener noreferrer"><strong>Precedence of Buck configuration specifications</strong></a>
This is true by default.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ui]warn_on_config_file_overrides = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="warn_on_config_file_overrides_ignored_files">warn_on_config_file_overrides_ignored_files<a href="#warn_on_config_file_overrides_ignored_files" class="hash-link" aria-label="Direct link to warn_on_config_file_overrides_ignored_files" title="Direct link to warn_on_config_file_overrides_ignored_files">​</a></h3><p>A comma-separated list of names of configuration files that should be ignored.
By default, Buck prints a warning if settings are in use from any of the files in <a href="https://buck.build/files-and-dirs/buckconfig.html#config-precedence" target="_blank" rel="noopener noreferrer"><strong>Precedence of Buck configuration specifications</strong></a>
Sometimes, however, a user should not be alerted about specific files. For example, there may be global Buck settings in <code>/etc/buckconfig.d/system</code> that are managed by an IT organization, not the user, and the warning would just be ignored. In this case, this setting could be set to <code>system</code>so that <code>/etc/buckconfig.d/system</code> being present would not elicit a warning.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ui]warn_on_config_file_overrides_ignored_files = experiments,system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="worker">[worker]<a href="#worker" class="hash-link" aria-label="Direct link to [worker]" title="Direct link to [worker]">​</a></h2><p>This section configures how Buck&#x27;s workers (<code>worker_tool</code>s and similar) work.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="persistent">persistent<a href="#persistent" class="hash-link" aria-label="Direct link to persistent" title="Direct link to persistent">​</a></h3><p>Specifies whether by default workers run in persistent mode (reusing the worker process across builds). The <code>persistent</code> option of <code>worker_tool</code> overrides this default. The default value is false. Be careful when switching this to true since the workers will not shut down after buck commands and will continue consuming system resources.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[worker]persistent = false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#performance-impact-of-buck-configuration-changes" class="table-of-contents__link toc-highlight">Performance impact of Buck configuration changes</a></li><li><a href="#the-buckconfig-file-uses-the-ini-file-format" class="table-of-contents__link toc-highlight">The .buckconfig file uses the INI file format</a><ul><li><a href="#other-ini-file-parsers" class="table-of-contents__link toc-highlight">Other INI file parsers</a></li><li><a href="#dot-character-not-supported-in-section-names" class="table-of-contents__link toc-highlight">Dot character not supported in section names</a></li></ul></li><li><a href="#character-encoding" class="table-of-contents__link toc-highlight">Character encoding</a></li><li><a href="#key-values-as-lists" class="table-of-contents__link toc-highlight">Key values as lists</a></li><li><a href="#transclusion-of-values-from-one-key-to-another" class="table-of-contents__link toc-highlight">Transclusion of values from one key to another</a></li><li><a href="#comments" class="table-of-contents__link toc-highlight">Comments</a></li><li><a href="#buckconfiglocal" class="table-of-contents__link toc-highlight">.buckconfig.local</a></li><li><a href="#other-initialization-files" class="table-of-contents__link toc-highlight">Other initialization files</a></li><li><a href="#command-line-control-of-configuration" class="table-of-contents__link toc-highlight">Command-line control of configuration</a></li><li><a href="#precedence-of-buck-configuration-specifications" class="table-of-contents__link toc-highlight">Precedence of Buck configuration specifications</a></li><li><a href="#configuration-files-can-include-other-files" class="table-of-contents__link toc-highlight">Configuration files can include other files</a></li><li><a href="#sections" class="table-of-contents__link toc-highlight">Sections</a></li><li><a href="#adb" class="table-of-contents__link toc-highlight">adb</a><ul><li><a href="#adb_restart_on_failure" class="table-of-contents__link toc-highlight">adb_restart_on_failure</a></li><li><a href="#multi_install_mode" class="table-of-contents__link toc-highlight">multi_install_mode</a></li></ul></li><li><a href="#alias" class="table-of-contents__link toc-highlight">alias</a></li><li><a href="#android" class="table-of-contents__link toc-highlight">android</a><ul><li><a href="#build_tools_version" class="table-of-contents__link toc-highlight">build_tools_version</a></li><li><a href="#compile_sdk_version" class="table-of-contents__link toc-highlight">compile_sdk_version</a></li><li><a href="#sdk_path" class="table-of-contents__link toc-highlight">sdk_path</a></li></ul></li><li><a href="#apple" class="table-of-contents__link toc-highlight">apple</a><ul><li><a href="#asset_catalog_validation" class="table-of-contents__link toc-highlight">asset_catalog_validation</a></li><li><a href="#codesign" class="table-of-contents__link toc-highlight">codesign</a></li><li><a href="#codesign_timeout" class="table-of-contents__link toc-highlight">codesign_timeout</a></li><li><a href="#code_sign_identities_command" class="table-of-contents__link toc-highlight">code_sign_identities_command</a></li><li><a href="#default_debug_info_format_for_binaries" class="table-of-contents__link toc-highlight">default_debug_info_format_for_binaries</a></li><li><a href="#default_debug_info_format_for_libraries" class="table-of-contents__link toc-highlight">default_debug_info_format_for_libraries</a></li><li><a href="#default_debug_info_format_for_tests" class="table-of-contents__link toc-highlight">default_debug_info_format_for_tests</a></li><li><a href="#device_helper_path" class="table-of-contents__link toc-highlight">device_helper_path</a></li><li><a href="#ipa_compression_level" class="table-of-contents__link toc-highlight">ipa_compression_level</a></li><li><a href="#provisioning_profile_read_command" class="table-of-contents__link toc-highlight">provisioning_profile_read_command</a></li><li><a href="#provisioning_profile_search_path" class="table-of-contents__link toc-highlight">provisioning_profile_search_path</a></li><li><a href="#target_sdk_version" class="table-of-contents__link toc-highlight">target_sdk_version</a></li><li><a href="#test_log" class="table-of-contents__link toc-highlight">test_log</a></li><li><a href="#use_flavored_cxx_sections" class="table-of-contents__link toc-highlight">use_flavored_cxx_sections</a></li><li><a href="#use_header_maps_in_xcode" class="table-of-contents__link toc-highlight">use_header_maps_in_xcode</a></li><li><a href="#xcode_developer_dir" class="table-of-contents__link toc-highlight">xcode_developer_dir</a></li><li><a href="#xcode_developer_dir_for_tests" class="table-of-contents__link toc-highlight">xcode_developer_dir_for_tests</a></li><li><a href="#xctool_default_destination_specifier" class="table-of-contents__link toc-highlight">xctool_default_destination_specifier</a></li><li><a href="#xctool_path" class="table-of-contents__link toc-highlight">xctool_path</a></li><li><a href="#xctool_zip_target" class="table-of-contents__link toc-highlight">xctool_zip_target</a></li><li><a href="#_package_command" class="table-of-contents__link toc-highlight">*_package_command</a></li><li><a href="#_package_extension" class="table-of-contents__link toc-highlight">*_package_extension</a></li><li><a href="#_replacement" class="table-of-contents__link toc-highlight">*_replacement</a></li><li><a href="#_toolchains_override" class="table-of-contents__link toc-highlight">*_toolchains_override</a></li><li><a href="#_version_override" class="table-of-contents__link toc-highlight">*_version_override</a></li><li><a href="#_xcode_tool_name_override" class="table-of-contents__link toc-highlight">*_xcode_tool_name_override</a></li></ul></li><li><a href="#build" class="table-of-contents__link toc-highlight">build</a><ul><li><a href="#artifact_cache_size_limit" class="table-of-contents__link toc-highlight">artifact_cache_size_limit</a></li><li><a href="#delete_temporaries" class="table-of-contents__link toc-highlight">delete_temporaries</a></li><li><a href="#depfiles" class="table-of-contents__link toc-highlight">depfiles</a></li><li><a href="#engine" class="table-of-contents__link toc-highlight">engine</a></li><li><a href="#max_depfile_cache_entries" class="table-of-contents__link toc-highlight">max_depfile_cache_entries</a></li><li><a href="#network_threads" class="table-of-contents__link toc-highlight">network_threads</a></li><li><a href="#rule_key_caching" class="table-of-contents__link toc-highlight">rule_key_caching</a></li><li><a href="#threads" class="table-of-contents__link toc-highlight">threads</a></li><li><a href="#thread_core_ratio" class="table-of-contents__link toc-highlight">thread_core_ratio</a></li><li><a href="#thread_core_ratio_max_threads" class="table-of-contents__link toc-highlight">thread_core_ratio_max_threads</a></li><li><a href="#thread_core_ratio_min_threads" class="table-of-contents__link toc-highlight">thread_core_ratio_min_threads</a></li><li><a href="#thread_core_ratio_reserved_cores" class="table-of-contents__link toc-highlight">thread_core_ratio_reserved_cores</a></li><li><a href="#type" class="table-of-contents__link toc-highlight">type</a></li></ul></li><li><a href="#buildfile" class="table-of-contents__link toc-highlight">buildfile</a><ul><li><a href="#includes" class="table-of-contents__link toc-highlight">includes</a></li><li><a href="#name" class="table-of-contents__link toc-highlight">name</a></li></ul></li><li><a href="#cache" class="table-of-contents__link toc-highlight">cache</a><ul><li><a href="#mode" class="table-of-contents__link toc-highlight">mode</a></li><li><a href="#dir" class="table-of-contents__link toc-highlight">dir</a></li><li><a href="#dir_cache_names" class="table-of-contents__link toc-highlight">dir_cache_names</a></li><li><a href="#dir_max_size" class="table-of-contents__link toc-highlight">dir_max_size</a></li><li><a href="#dir_mode" class="table-of-contents__link toc-highlight">dir_mode</a></li><li><a href="#serve_local_cache" class="table-of-contents__link toc-highlight">serve_local_cache</a></li><li><a href="#served_local_cache_mode" class="table-of-contents__link toc-highlight">served_local_cache_mode</a></li><li><a href="#http_url" class="table-of-contents__link toc-highlight">http_url</a></li><li><a href="#http_mode" class="table-of-contents__link toc-highlight">http_mode</a></li><li><a href="#http_read_headers" class="table-of-contents__link toc-highlight">http_read_headers</a></li><li><a href="#http_write_headers" class="table-of-contents__link toc-highlight">http_write_headers</a></li><li><a href="#http_timeout_seconds" class="table-of-contents__link toc-highlight">http_timeout_seconds</a></li><li><a href="#http_connect_timeout_seconds" class="table-of-contents__link toc-highlight">http_connect_timeout_seconds</a></li><li><a href="#http_read_timeout_seconds" class="table-of-contents__link toc-highlight">http_read_timeout_seconds</a></li><li><a href="#http_write_timeout_seconds" class="table-of-contents__link toc-highlight">http_write_timeout_seconds</a></li><li><a href="#http_max_concurrent_writes" class="table-of-contents__link toc-highlight">http_max_concurrent_writes</a></li><li><a href="#http_writer_shutdown_timeout_seconds" class="table-of-contents__link toc-highlight">http_writer_shutdown_timeout_seconds</a></li><li><a href="#http_error_message_format" class="table-of-contents__link toc-highlight">http_error_message_format</a></li><li><a href="#http_error_message_limit" class="table-of-contents__link toc-highlight">http_error_message_limit</a></li><li><a href="#http_max_store_attempts" class="table-of-contents__link toc-highlight">http_max_store_attempts</a></li><li><a href="#http_store_retry_interval_millis" class="table-of-contents__link toc-highlight">http_store_retry_interval_millis</a></li><li><a href="#http_max_store_size" class="table-of-contents__link toc-highlight">http_max_store_size</a></li><li><a href="#http_client_tls_cert" class="table-of-contents__link toc-highlight">http_client_tls_cert</a></li><li><a href="#http_client_tls_key" class="table-of-contents__link toc-highlight">http_client_tls_key</a></li><li><a href="#hybrid_thrift_endpoint" class="table-of-contents__link toc-highlight">hybrid_thrift_endpoint</a></li><li><a href="#sqlite_inlined_size" class="table-of-contents__link toc-highlight">sqlite_inlined_size</a></li><li><a href="#sqlite_max_size" class="table-of-contents__link toc-highlight">sqlite_max_size</a></li><li><a href="#sqlite_mode" class="table-of-contents__link toc-highlight">sqlite_mode</a></li><li><a href="#sqlite_cache_names" class="table-of-contents__link toc-highlight">sqlite_cache_names</a></li><li><a href="#two_level_cache_enabled" class="table-of-contents__link toc-highlight">two_level_cache_enabled</a></li><li><a href="#two_level_cache_minimum_size" class="table-of-contents__link toc-highlight">two_level_cache_minimum_size</a></li><li><a href="#two_level_cache_maximum_size" class="table-of-contents__link toc-highlight">two_level_cache_maximum_size</a></li><li><a href="#action_graph_cache_check_enabled" class="table-of-contents__link toc-highlight">action_graph_cache_check_enabled</a></li><li><a href="#max_action_graph_cache_entries" class="table-of-contents__link toc-highlight">max_action_graph_cache_entries</a></li><li><a href="#load_balancing_type" class="table-of-contents__link toc-highlight">load_balancing_type</a></li><li><a href="#slb_server_pool" class="table-of-contents__link toc-highlight">slb_server_pool</a></li><li><a href="#slb_ping_endpoint" class="table-of-contents__link toc-highlight">slb_ping_endpoint</a></li><li><a href="#slb_health_check_internal_millis" class="table-of-contents__link toc-highlight">slb_health_check_internal_millis</a></li><li><a href="#slb_timeout_millis" class="table-of-contents__link toc-highlight">slb_timeout_millis</a></li><li><a href="#slb_error_check_time_range_millis" class="table-of-contents__link toc-highlight">slb_error_check_time_range_millis</a></li><li><a href="#slb_max_error_percentage" class="table-of-contents__link toc-highlight">slb_max_error_percentage</a></li><li><a href="#slb_latency_check_time_range_millis" class="table-of-contents__link toc-highlight">slb_latency_check_time_range_millis</a></li><li><a href="#slb_max_acceptable_latency_millis" class="table-of-contents__link toc-highlight">slb_max_acceptable_latency_millis</a></li></ul></li><li><a href="#client" class="table-of-contents__link toc-highlight">client</a><ul><li><a href="#id" class="table-of-contents__link toc-highlight">id</a></li><li><a href="#skip-action-graph-cache" class="table-of-contents__link toc-highlight">skip-action-graph-cache</a></li></ul></li><li><a href="#color" class="table-of-contents__link toc-highlight">color</a><ul><li><a href="#ui" class="table-of-contents__link toc-highlight">ui</a></li></ul></li><li><a href="#credentials" class="table-of-contents__link toc-highlight">credentials</a></li><li><a href="#cxx" class="table-of-contents__link toc-highlight">cxx</a><ul><li><a href="#cpp" class="table-of-contents__link toc-highlight">cpp</a></li><li><a href="#cc" class="table-of-contents__link toc-highlight">cc</a></li><li><a href="#ld" class="table-of-contents__link toc-highlight">ld</a></li><li><a href="#linker_platform" class="table-of-contents__link toc-highlight">linker_platform</a></li><li><a href="#cxxpp" class="table-of-contents__link toc-highlight">cxxpp</a></li><li><a href="#cxx-1" class="table-of-contents__link toc-highlight">cxx</a></li><li><a href="#aspp" class="table-of-contents__link toc-highlight">aspp</a></li><li><a href="#as" class="table-of-contents__link toc-highlight">as</a></li><li><a href="#ar" class="table-of-contents__link toc-highlight">ar</a></li><li><a href="#archiver_platform" class="table-of-contents__link toc-highlight">archiver_platform</a></li><li><a href="#cppflags" class="table-of-contents__link toc-highlight">cppflags</a></li><li><a href="#cflags" class="table-of-contents__link toc-highlight">cflags</a></li><li><a href="#ldflags" class="table-of-contents__link toc-highlight">ldflags</a></li><li><a href="#cxxppflags" class="table-of-contents__link toc-highlight">cxxppflags</a></li><li><a href="#cxxflags" class="table-of-contents__link toc-highlight">cxxflags</a></li><li><a href="#asppflags" class="table-of-contents__link toc-highlight">asppflags</a></li><li><a href="#asflags" class="table-of-contents__link toc-highlight">asflags</a></li><li><a href="#arflags" class="table-of-contents__link toc-highlight">arflags</a></li><li><a href="#ranlibflags" class="table-of-contents__link toc-highlight">ranlibflags</a></li><li><a href="#gtest_dep" class="table-of-contents__link toc-highlight">gtest_dep</a></li><li><a href="#untracked_headers" class="table-of-contents__link toc-highlight">untracked_headers</a></li><li><a href="#untracked_headers_whitelist" class="table-of-contents__link toc-highlight">untracked_headers_whitelist</a></li><li><a href="#should_remap_host_platform" class="table-of-contents__link toc-highlight">should_remap_host_platform</a></li><li><a href="#host_platform" class="table-of-contents__link toc-highlight">host_platform</a></li><li><a href="#default_platform" class="table-of-contents__link toc-highlight">default_platform</a></li><li><a href="#pch_enabled" class="table-of-contents__link toc-highlight">pch_enabled</a></li><li><a href="#link_weight" class="table-of-contents__link toc-highlight">link_weight</a></li><li><a href="#cache_links" class="table-of-contents__link toc-highlight">cache_links</a></li><li><a href="#default_reexport_all_header_dependencies" class="table-of-contents__link toc-highlight">default_reexport_all_header_dependencies</a></li><li><a href="#shlib_interfaces" class="table-of-contents__link toc-highlight">shlib_interfaces</a></li><li><a href="#independent_shlib_interfaces" class="table-of-contents__link toc-highlight">independent_shlib_interfaces</a></li></ul></li><li><a href="#d" class="table-of-contents__link toc-highlight">d</a><ul><li><a href="#base_compiler_flags" class="table-of-contents__link toc-highlight">base_compiler_flags</a></li><li><a href="#compiler" class="table-of-contents__link toc-highlight">compiler</a></li><li><a href="#library_path" class="table-of-contents__link toc-highlight">library_path</a></li><li><a href="#linker_flags" class="table-of-contents__link toc-highlight">linker_flags</a></li></ul></li><li><a href="#doctor" class="table-of-contents__link toc-highlight">doctor</a><ul><li><a href="#protocol" class="table-of-contents__link toc-highlight">protocol</a></li><li><a href="#endpoint_url" class="table-of-contents__link toc-highlight">endpoint_url</a></li><li><a href="#endpoint_timeout_ms" class="table-of-contents__link toc-highlight">endpoint_timeout_ms</a></li><li><a href="#endpoint_extra_request_args" class="table-of-contents__link toc-highlight">endpoint_extra_request_args</a></li><li><a href="#report_upload_path" class="table-of-contents__link toc-highlight">report_upload_path</a></li><li><a href="#report_max_size" class="table-of-contents__link toc-highlight">report_max_size</a></li><li><a href="#report_timeout_ms" class="table-of-contents__link toc-highlight">report_timeout_ms</a></li><li><a href="#report_max_upload_retries" class="table-of-contents__link toc-highlight">report_max_upload_retries</a></li><li><a href="#report_extra_info_command" class="table-of-contents__link toc-highlight">report_extra_info_command</a></li></ul></li><li><a href="#download" class="table-of-contents__link toc-highlight">download</a><ul><li><a href="#proxy" class="table-of-contents__link toc-highlight">proxy</a></li><li><a href="#maven_repo" class="table-of-contents__link toc-highlight">maven_repo</a></li><li><a href="#max_number_of_retries" class="table-of-contents__link toc-highlight">max_number_of_retries</a></li><li><a href="#in_build" class="table-of-contents__link toc-highlight">in_build</a></li></ul></li><li><a href="#dx" class="table-of-contents__link toc-highlight">dx</a><ul><li><a href="#threads-1" class="table-of-contents__link toc-highlight">threads</a></li><li><a href="#max_threads" class="table-of-contents__link toc-highlight">max_threads</a></li><li><a href="#max_heap_size" class="table-of-contents__link toc-highlight">max_heap_size</a></li></ul></li><li><a href="#export_file" class="table-of-contents__link toc-highlight">export_file</a><ul><li><a href="#input_directory_action" class="table-of-contents__link toc-highlight">input_directory_action</a></li></ul></li><li><a href="#go" class="table-of-contents__link toc-highlight">go</a><ul><li><a href="#root" class="table-of-contents__link toc-highlight">root</a></li><li><a href="#prefix" class="table-of-contents__link toc-highlight">prefix</a></li><li><a href="#tool" class="table-of-contents__link toc-highlight">tool</a></li><li><a href="#compiler-1" class="table-of-contents__link toc-highlight">compiler</a></li><li><a href="#assembler" class="table-of-contents__link toc-highlight">assembler</a></li><li><a href="#packer" class="table-of-contents__link toc-highlight">packer</a></li><li><a href="#linker" class="table-of-contents__link toc-highlight">linker</a></li><li><a href="#vendor_path" class="table-of-contents__link toc-highlight">vendor_path</a></li><li><a href="#project_path" class="table-of-contents__link toc-highlight">project_path</a></li></ul></li><li><a href="#groovy" class="table-of-contents__link toc-highlight">groovy</a><ul><li><a href="#groovy_home" class="table-of-contents__link toc-highlight">groovy_home</a></li></ul></li><li><a href="#halide" class="table-of-contents__link toc-highlight">halide</a><ul><li><a href="#target" class="table-of-contents__link toc-highlight">target</a></li><li><a href="#xcode_compile_script" class="table-of-contents__link toc-highlight">xcode_compile_script</a></li></ul></li><li><a href="#httpserver" class="table-of-contents__link toc-highlight">httpserver</a><ul><li><a href="#port" class="table-of-contents__link toc-highlight">port</a></li></ul></li><li><a href="#incompatible" class="table-of-contents__link toc-highlight">incompatible</a></li><li><a href="#intellij" class="table-of-contents__link toc-highlight">intellij</a><ul><li><a href="#default_android_manifest_path" class="table-of-contents__link toc-highlight">default_android_manifest_path</a></li><li><a href="#jdk_name" class="table-of-contents__link toc-highlight">jdk_name</a></li><li><a href="#jdk_type" class="table-of-contents__link toc-highlight">jdk_type</a></li><li><a href="#android_module_sdk_type" class="table-of-contents__link toc-highlight">android_module_sdk_type</a></li><li><a href="#android_module_sdk_name" class="table-of-contents__link toc-highlight">android_module_sdk_name</a></li><li><a href="#java_module_sdk_type" class="table-of-contents__link toc-highlight">java_module_sdk_type</a></li><li><a href="#java_module_sdk_name" class="table-of-contents__link toc-highlight">java_module_sdk_name</a></li><li><a href="#default_min_android_sdk_version" class="table-of-contents__link toc-highlight">default_min_android_sdk_version</a></li><li><a href="#generated_sources_label_map" class="table-of-contents__link toc-highlight">generated_sources_label_map</a></li><li><a href="#include_transitive_dependencies" class="table-of-contents__link toc-highlight">include_transitive_dependencies</a></li><li><a href="#module_group_name" class="table-of-contents__link toc-highlight">module_group_name</a></li><li><a href="#remove_unused_libraries" class="table-of-contents__link toc-highlight">remove_unused_libraries</a></li><li><a href="#aggregate_android_resource_modules" class="table-of-contents__link toc-highlight">aggregate_android_resource_modules</a></li><li><a href="#android_resource_module_aggregation_limit" class="table-of-contents__link toc-highlight">android_resource_module_aggregation_limit</a></li><li><a href="#project_compiler_output_url" class="table-of-contents__link toc-highlight">project_compiler_output_url</a></li><li><a href="#extra_compiler_output_modules_path" class="table-of-contents__link toc-highlight">extra_compiler_output_modules_path</a></li></ul></li><li><a href="#java" class="table-of-contents__link toc-highlight">java</a><ul><li><a href="#src_roots" class="table-of-contents__link toc-highlight">src_roots</a></li><li><a href="#extra_arguments" class="table-of-contents__link toc-highlight">extra_arguments</a></li><li><a href="#source_level" class="table-of-contents__link toc-highlight">source_level</a></li><li><a href="#target_level" class="table-of-contents__link toc-highlight">target_level</a></li><li><a href="#skip_checking_missing_deps" class="table-of-contents__link toc-highlight">skip_checking_missing_deps</a></li><li><a href="#jar_spool_mode" class="table-of-contents__link toc-highlight">jar_spool_mode</a></li><li><a href="#abi_generation_mode" class="table-of-contents__link toc-highlight">abi_generation_mode</a></li><li><a href="#unused_dependencies_action" class="table-of-contents__link toc-highlight">unused_dependencies_action</a></li><li><a href="#duplicates_log_level" class="table-of-contents__link toc-highlight">duplicates_log_level</a></li></ul></li><li><a href="#kotlin" class="table-of-contents__link toc-highlight">kotlin</a><ul><li><a href="#kotlinc" class="table-of-contents__link toc-highlight">kotlinc</a></li><li><a href="#external" class="table-of-contents__link toc-highlight">external</a></li><li><a href="#kotlin_home" class="table-of-contents__link toc-highlight">kotlin_home</a></li></ul></li><li><a href="#log" class="table-of-contents__link toc-highlight">log</a><ul><li><a href="#max_traces" class="table-of-contents__link toc-highlight">max_traces</a></li><li><a href="#compress_traces" class="table-of-contents__link toc-highlight">compress_traces</a></li><li><a href="#machine_readable_logger_enabled" class="table-of-contents__link toc-highlight">machine_readable_logger_enabled</a></li><li><a href="#build_details_template" class="table-of-contents__link toc-highlight">build_details_template</a></li><li><a href="#build_details_commands" class="table-of-contents__link toc-highlight">build_details_commands</a></li></ul></li><li><a href="#lua" class="table-of-contents__link toc-highlight">lua</a><ul><li><a href="#lua-1" class="table-of-contents__link toc-highlight">lua</a></li><li><a href="#cxx_library" class="table-of-contents__link toc-highlight">cxx_library</a></li><li><a href="#starter_type" class="table-of-contents__link toc-highlight">starter_type</a></li><li><a href="#native_starter_library" class="table-of-contents__link toc-highlight">native_starter_library</a></li><li><a href="#extension" class="table-of-contents__link toc-highlight">extension</a></li></ul></li><li><a href="#maven_repositories" class="table-of-contents__link toc-highlight">maven_repositories</a></li><li><a href="#ndk" class="table-of-contents__link toc-highlight">ndk</a><ul><li><a href="#ndk_version" class="table-of-contents__link toc-highlight">ndk_version</a></li><li><a href="#ndk_path" class="table-of-contents__link toc-highlight">ndk_path</a></li><li><a href="#ndk_repository_path" class="table-of-contents__link toc-highlight">ndk_repository_path</a></li><li><a href="#app_platform" class="table-of-contents__link toc-highlight">app_platform</a></li><li><a href="#app_platform_per_cpu_abi" class="table-of-contents__link toc-highlight">app_platform_per_cpu_abi</a></li><li><a href="#cpu_abis" class="table-of-contents__link toc-highlight">cpu_abis</a></li><li><a href="#compiler-2" class="table-of-contents__link toc-highlight">compiler</a></li><li><a href="#gcc_version" class="table-of-contents__link toc-highlight">gcc_version</a></li><li><a href="#clang_version" class="table-of-contents__link toc-highlight">clang_version</a></li><li><a href="#cxx_runtime" class="table-of-contents__link toc-highlight">cxx_runtime</a></li><li><a href="#cxx_runtime_type" class="table-of-contents__link toc-highlight">cxx_runtime_type</a></li></ul></li><li><a href="#ocaml" class="table-of-contents__link toc-highlight">ocaml</a><ul><li><a href="#ocamlbytecodecompiler" class="table-of-contents__link toc-highlight">ocaml.bytecode.compiler</a></li><li><a href="#ocamlcompiler" class="table-of-contents__link toc-highlight">ocaml.compiler</a></li><li><a href="#deptool" class="table-of-contents__link toc-highlight">dep.tool</a></li><li><a href="#lexcompiler" class="table-of-contents__link toc-highlight">lex.compiler</a></li><li><a href="#yacccompiler" class="table-of-contents__link toc-highlight">yacc.compiler</a></li><li><a href="#debug" class="table-of-contents__link toc-highlight">debug</a></li><li><a href="#interopincludes" class="table-of-contents__link toc-highlight">interop.includes</a></li></ul></li><li><a href="#parser" class="table-of-contents__link toc-highlight">parser</a><ul><li><a href="#python_interpreter" class="table-of-contents__link toc-highlight">python_interpreter</a></li><li><a href="#python_path" class="table-of-contents__link toc-highlight">python_path</a></li><li><a href="#polyglot_parsing_enabled" class="table-of-contents__link toc-highlight">polyglot_parsing_enabled</a></li><li><a href="#default_build_file_syntax" class="table-of-contents__link toc-highlight">default_build_file_syntax</a></li><li><a href="#disable_implicit_native_rules" class="table-of-contents__link toc-highlight">disable_implicit_native_rules</a></li><li><a href="#warn_about_deprecated_syntax" class="table-of-contents__link toc-highlight">warn_about_deprecated_syntax</a></li></ul></li><li><a href="#project" class="table-of-contents__link toc-highlight">project</a><ul><li><a href="#generate_android_manifest" class="table-of-contents__link toc-highlight">generate_android_manifest</a></li><li><a href="#ide" class="table-of-contents__link toc-highlight">ide</a></li><li><a href="#glob_handler" class="table-of-contents__link toc-highlight">glob_handler</a></li><li><a href="#allow_symlinks" class="table-of-contents__link toc-highlight">allow_symlinks</a></li><li><a href="#build_file_search_method" class="table-of-contents__link toc-highlight">build_file_search_method</a></li><li><a href="#watchman_query_timeout_ms" class="table-of-contents__link toc-highlight">watchman_query_timeout_ms</a></li><li><a href="#ide_force_kill" class="table-of-contents__link toc-highlight">ide_force_kill</a></li><li><a href="#initial_targets" class="table-of-contents__link toc-highlight">initial_targets</a></li><li><a href="#ignore" class="table-of-contents__link toc-highlight">ignore</a></li><li><a href="#pre_process" class="table-of-contents__link toc-highlight">pre_process</a></li><li><a href="#post_process" class="table-of-contents__link toc-highlight">post_process</a></li><li><a href="#parallel_parsing" class="table-of-contents__link toc-highlight">parallel_parsing</a></li><li><a href="#parsing_threads" class="table-of-contents__link toc-highlight">parsing_threads</a></li><li><a href="#build_file_import_whitelist" class="table-of-contents__link toc-highlight">build_file_import_whitelist</a></li><li><a href="#shared_libraries_in_bundles" class="table-of-contents__link toc-highlight">shared_libraries_in_bundles</a></li><li><a href="#motd" class="table-of-contents__link toc-highlight">motd</a></li></ul></li><li><a href="#python" class="table-of-contents__link toc-highlight">python</a><ul><li><a href="#interpreter" class="table-of-contents__link toc-highlight">interpreter</a></li><li><a href="#inplace_interpreter_flags" class="table-of-contents__link toc-highlight">inplace_interpreter_flags</a></li><li><a href="#library" class="table-of-contents__link toc-highlight">library</a></li><li><a href="#native_link_strategy" class="table-of-contents__link toc-highlight">native_link_strategy</a></li><li><a href="#package_style" class="table-of-contents__link toc-highlight">package_style</a></li><li><a href="#path_to_pex_executor" class="table-of-contents__link toc-highlight">path_to_pex_executor</a></li><li><a href="#pex_extension" class="table-of-contents__link toc-highlight">pex_extension</a></li><li><a href="#version" class="table-of-contents__link toc-highlight">version</a></li></ul></li><li><a href="#repositories" class="table-of-contents__link toc-highlight">repositories</a></li><li><a href="#resources" class="table-of-contents__link toc-highlight">resources</a><ul><li><a href="#resource_aware_scheduling_enabled" class="table-of-contents__link toc-highlight">resource_aware_scheduling_enabled</a></li><li><a href="#managed_thread_count" class="table-of-contents__link toc-highlight">managed_thread_count</a></li><li><a href="#default_cpu_amount" class="table-of-contents__link toc-highlight">default_cpu_amount</a></li><li><a href="#default_memory_amount" class="table-of-contents__link toc-highlight">default_memory_amount</a></li><li><a href="#default_disk_io_amount" class="table-of-contents__link toc-highlight">default_disk_io_amount</a></li><li><a href="#default_network_io_amount" class="table-of-contents__link toc-highlight">default_network_io_amount</a></li><li><a href="#max_memory_resource" class="table-of-contents__link toc-highlight">max_memory_resource</a></li><li><a href="#max_disk_io_resource" class="table-of-contents__link toc-highlight">max_disk_io_resource</a></li><li><a href="#max_network_io_resource" class="table-of-contents__link toc-highlight">max_network_io_resource</a></li></ul></li><li><a href="#resources_per_rule" class="table-of-contents__link toc-highlight">resources_per_rule</a></li><li><a href="#rust" class="table-of-contents__link toc-highlight">rust</a><ul><li><a href="#compiler-3" class="table-of-contents__link toc-highlight">compiler</a></li><li><a href="#rustc_flags" class="table-of-contents__link toc-highlight">rustc_flags</a></li><li><a href="#rustc_binary_flags" class="table-of-contents__link toc-highlight">rustc_binary_flags</a></li><li><a href="#rustc_library_flags" class="table-of-contents__link toc-highlight">rustc_library_flags</a></li><li><a href="#unflavored_binaries" class="table-of-contents__link toc-highlight">unflavored_binaries</a></li><li><a href="#remap_src_paths" class="table-of-contents__link toc-highlight">remap_src_paths</a></li><li><a href="#force_rlib" class="table-of-contents__link toc-highlight">force_rlib</a></li><li><a href="#prefer_static_libs" class="table-of-contents__link toc-highlight">prefer_static_libs</a></li><li><a href="#incremental" class="table-of-contents__link toc-highlight">incremental</a></li><li><a href="#default_edition" class="table-of-contents__link toc-highlight">default_edition</a></li></ul></li><li><a href="#sandbox" class="table-of-contents__link toc-highlight">sandbox</a><ul><li><a href="#darwin_sandbox_enabled" class="table-of-contents__link toc-highlight">darwin_sandbox_enabled</a></li><li><a href="#genrule_sandbox_enabled" class="table-of-contents__link toc-highlight">genrule_sandbox_enabled</a></li></ul></li><li><a href="#test" class="table-of-contents__link toc-highlight">test</a><ul><li><a href="#incl_no_location_classes" class="table-of-contents__link toc-highlight">incl_no_location_classes</a></li><li><a href="#timeout" class="table-of-contents__link toc-highlight">timeout</a></li><li><a href="#rule_timeout" class="table-of-contents__link toc-highlight">rule_timeout</a></li><li><a href="#external_runner" class="table-of-contents__link toc-highlight">external_runner</a></li><li><a href="#thread_utilization_ratio" class="table-of-contents__link toc-highlight">thread_utilization_ratio</a></li><li><a href="#parallel_external_test_spec_computation_enabled" class="table-of-contents__link toc-highlight">parallel_external_test_spec_computation_enabled</a></li><li><a href="#threads-2" class="table-of-contents__link toc-highlight">threads</a></li></ul></li><li><a href="#thrift" class="table-of-contents__link toc-highlight">thrift</a><ul><li><a href="#compiler-4" class="table-of-contents__link toc-highlight">compiler</a></li><li><a href="#compiler2" class="table-of-contents__link toc-highlight">compiler2</a></li></ul></li><li><a href="#tools" class="table-of-contents__link toc-highlight">tools</a><ul><li><a href="#javac" class="table-of-contents__link toc-highlight">javac</a></li><li><a href="#javac_jar" class="table-of-contents__link toc-highlight">javac_jar</a></li><li><a href="#java_for_tests" class="table-of-contents__link toc-highlight">java_for_tests</a></li><li><a href="#compiler_class_name" class="table-of-contents__link toc-highlight">compiler_class_name</a></li><li><a href="#proguard" class="table-of-contents__link toc-highlight">proguard</a></li><li><a href="#proguard-max-heap-size" class="table-of-contents__link toc-highlight">proguard-max-heap-size</a></li><li><a href="#proguard-agentpath" class="table-of-contents__link toc-highlight">proguard-agentpath</a></li></ul></li><li><a href="#ui-1" class="table-of-contents__link toc-highlight">ui</a><ul><li><a href="#always_sort_threads_by_time" class="table-of-contents__link toc-highlight">always_sort_threads_by_time</a></li><li><a href="#error_message_augmentations" class="table-of-contents__link toc-highlight">error_message_augmentations</a></li><li><a href="#relativize_targets_to_working_directory" class="table-of-contents__link toc-highlight">relativize_targets_to_working_directory</a></li><li><a href="#enable_show_output_warning" class="table-of-contents__link toc-highlight">enable_show_output_warning</a></li><li><a href="#thread_line_limit" class="table-of-contents__link toc-highlight">thread_line_limit</a></li><li><a href="#thread_line_limit_on_warning" class="table-of-contents__link toc-highlight">thread_line_limit_on_warning</a></li><li><a href="#thread_line_limit_on_error" class="table-of-contents__link toc-highlight">thread_line_limit_on_error</a></li><li><a href="#truncate_failing_command" class="table-of-contents__link toc-highlight">truncate_failing_command</a></li><li><a href="#superconsole" class="table-of-contents__link toc-highlight">superconsole</a></li><li><a href="#warn_on_config_file_overrides" class="table-of-contents__link toc-highlight">warn_on_config_file_overrides</a></li><li><a href="#warn_on_config_file_overrides_ignored_files" class="table-of-contents__link toc-highlight">warn_on_config_file_overrides_ignored_files</a></li></ul></li><li><a href="#worker" class="table-of-contents__link toc-highlight">worker</a><ul><li><a href="#persistent" class="table-of-contents__link toc-highlight">persistent</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">User guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/buck2/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/buck2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/terms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e94ab9dd.js"></script>
<script src="/assets/js/main.71de8834.js"></script>
</body>
</html>